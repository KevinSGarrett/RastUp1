{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.230.0"},"children":{"RastupOrganization":{"id":"RastupOrganization","path":"RastupOrganization","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"RootOu":{"id":"RootOu","path":"RastupOrganization/RootOu","constructInfo":{"fqn":"aws-cdk-lib.aws_organizations.CfnOrganizationalUnit","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Organizations::OrganizationalUnit","aws:cdk:cloudformation:props":{"name":"rastup","parentId":"r-root"}}},"DEVOu":{"id":"DEVOu","path":"RastupOrganization/DEVOu","constructInfo":{"fqn":"aws-cdk-lib.aws_organizations.CfnOrganizationalUnit","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Organizations::OrganizationalUnit","aws:cdk:cloudformation:props":{"name":"OU-DEV","parentId":{"Fn::GetAtt":["RootOu","Id"]},"tags":[{"key":"rastup:component","value":"organizations"},{"key":"rastup:environment","value":"dev"},{"key":"rastup:managed-by","value":"cdk"}]}}},"devGuardrails":{"id":"devGuardrails","path":"RastupOrganization/devGuardrails","constructInfo":{"fqn":"aws-cdk-lib.aws_organizations.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Organizations::Policy","aws:cdk:cloudformation:props":{"content":{"Version":"2012-10-17","Statement":[{"Sid":"DenyLegacyAmplify","Effect":"Deny","Action":["amplify:CreateApp","amplify:CreateBranch","amplify:CreateBackendEnvironment"],"Resource":"*","Condition":{"StringLike":{"aws:RequestedRegion":["us-east-1"]}}},{"Sid":"DenyWildcardIam","Effect":"Deny","Action":"iam:CreatePolicy","Resource":"*","Condition":{"StringEquals":{"aws:ResourceTag/rastup:managed-by":"cdk"}}}]},"description":"Guardrails for dev preventing legacy Amplify Classic and wildcard IAM.","name":"scp-dev","targetIds":[{"Fn::GetAtt":["DEVOu","Id"]}],"type":"SERVICE_CONTROL_POLICY"}}},"devOuId":{"id":"devOuId","path":"RastupOrganization/devOuId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"STAGEOu":{"id":"STAGEOu","path":"RastupOrganization/STAGEOu","constructInfo":{"fqn":"aws-cdk-lib.aws_organizations.CfnOrganizationalUnit","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Organizations::OrganizationalUnit","aws:cdk:cloudformation:props":{"name":"OU-STAGE","parentId":{"Fn::GetAtt":["RootOu","Id"]},"tags":[{"key":"rastup:component","value":"organizations"},{"key":"rastup:environment","value":"stage"},{"key":"rastup:managed-by","value":"cdk"}]}}},"stageGuardrails":{"id":"stageGuardrails","path":"RastupOrganization/stageGuardrails","constructInfo":{"fqn":"aws-cdk-lib.aws_organizations.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Organizations::Policy","aws:cdk:cloudformation:props":{"content":{"Version":"2012-10-17","Statement":[{"Sid":"DenyLegacyAmplify","Effect":"Deny","Action":["amplify:CreateApp","amplify:CreateBranch","amplify:CreateBackendEnvironment"],"Resource":"*","Condition":{"StringLike":{"aws:RequestedRegion":["us-east-1"]}}},{"Sid":"DenyWildcardIam","Effect":"Deny","Action":"iam:CreatePolicy","Resource":"*","Condition":{"StringEquals":{"aws:ResourceTag/rastup:managed-by":"cdk"}}}]},"description":"Guardrails for stage preventing legacy Amplify Classic and wildcard IAM.","name":"scp-stage","targetIds":[{"Fn::GetAtt":["STAGEOu","Id"]}],"type":"SERVICE_CONTROL_POLICY"}}},"stageOuId":{"id":"stageOuId","path":"RastupOrganization/stageOuId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"PRODOu":{"id":"PRODOu","path":"RastupOrganization/PRODOu","constructInfo":{"fqn":"aws-cdk-lib.aws_organizations.CfnOrganizationalUnit","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Organizations::OrganizationalUnit","aws:cdk:cloudformation:props":{"name":"OU-PROD","parentId":{"Fn::GetAtt":["RootOu","Id"]},"tags":[{"key":"rastup:component","value":"organizations"},{"key":"rastup:environment","value":"prod"},{"key":"rastup:managed-by","value":"cdk"}]}}},"prodGuardrails":{"id":"prodGuardrails","path":"RastupOrganization/prodGuardrails","constructInfo":{"fqn":"aws-cdk-lib.aws_organizations.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Organizations::Policy","aws:cdk:cloudformation:props":{"content":{"Version":"2012-10-17","Statement":[{"Sid":"DenyLegacyAmplify","Effect":"Deny","Action":["amplify:CreateApp","amplify:CreateBranch","amplify:CreateBackendEnvironment"],"Resource":"*","Condition":{"StringLike":{"aws:RequestedRegion":["us-east-1"]}}},{"Sid":"DenyWildcardIam","Effect":"Deny","Action":"iam:CreatePolicy","Resource":"*","Condition":{"StringEquals":{"aws:ResourceTag/rastup:managed-by":"cdk"}}}]},"description":"Guardrails for prod preventing legacy Amplify Classic and wildcard IAM.","name":"scp-prod","targetIds":[{"Fn::GetAtt":["PRODOu","Id"]}],"type":"SERVICE_CONTROL_POLICY"}}},"prodOuId":{"id":"prodOuId","path":"RastupOrganization/prodOuId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"RastupOrganization/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RastupOrganization/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RastupOrganization/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RastupOrganization/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"RastupBudgets-dev":{"id":"RastupBudgets-dev","path":"RastupBudgets-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"MonthlyBudget":{"id":"MonthlyBudget","path":"RastupBudgets-dev/MonthlyBudget","constructInfo":{"fqn":"aws-cdk-lib.aws_budgets.CfnBudget","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Budgets::Budget","aws:cdk:cloudformation:props":{"budget":{"budgetName":"rastup-dev-monthly-budget-v1","budgetType":"COST","timeUnit":"MONTHLY","budgetLimit":{"amount":25,"unit":"USD"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"RastupBudgets-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RastupBudgets-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RastupBudgets-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RastupBudgets-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"RastupIdentity-dev":{"id":"RastupIdentity-dev","path":"RastupIdentity-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"PipelineRole":{"id":"PipelineRole","path":"RastupIdentity-dev/PipelineRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportPipelineRole":{"id":"ImportPipelineRole","path":"RastupIdentity-dev/PipelineRole/ImportPipelineRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-dev/PipelineRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"},"description":"CI/CD pipeline role for Amplify and CDK deployment.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AdministratorAccess-Amplify"]]}],"maxSessionDuration":43200,"roleName":"rastup-dev-pipeline","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"dev"},{"key":"rastup:managed-by","value":"cdk"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RastupIdentity-dev/PipelineRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RastupIdentity-dev/PipelineRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","appconfig:GetConfiguration","appconfig:StartConfigurationSession"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"PipelineRoleDefaultPolicy77A82A74","roles":[{"Ref":"PipelineRoleDCFDBB91"}]}}}}}}},"BreakGlassAdmin":{"id":"BreakGlassAdmin","path":"RastupIdentity-dev/BreakGlassAdmin","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportBreakGlassAdmin":{"id":"ImportBreakGlassAdmin","path":"RastupIdentity-dev/BreakGlassAdmin/ImportBreakGlassAdmin","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-dev/BreakGlassAdmin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::029530099913:root"]]}}}],"Version":"2012-10-17"},"description":"Break-glass admin role requiring MFA and ticket annotation.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AdministratorAccess"]]}],"maxSessionDuration":14400,"policies":[{"policyName":"SessionControl","policyDocument":{"Statement":[{"Action":["sts:SetSessionTags","sts:TagSession"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"roleName":"rastup-dev-breakglass-admin","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"dev"},{"key":"rastup:managed-by","value":"cdk"}]}}}}},"SupportRole":{"id":"SupportRole","path":"RastupIdentity-dev/SupportRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportSupportRole":{"id":"ImportSupportRole","path":"RastupIdentity-dev/SupportRole/ImportSupportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-dev/SupportRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::029530099913:root"]]}}}],"Version":"2012-10-17"},"description":"Support engineering role with scoped read-only permissions.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/ReadOnlyAccess"]]}],"maxSessionDuration":14400,"roleName":"rastup-dev-support","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"dev"},{"key":"rastup:managed-by","value":"cdk"}]}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"RastupIdentity-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RastupIdentity-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RastupIdentity-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RastupIdentity-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"RastupBudgets-stage":{"id":"RastupBudgets-stage","path":"RastupBudgets-stage","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"MonthlyBudget":{"id":"MonthlyBudget","path":"RastupBudgets-stage/MonthlyBudget","constructInfo":{"fqn":"aws-cdk-lib.aws_budgets.CfnBudget","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Budgets::Budget","aws:cdk:cloudformation:props":{"budget":{"budgetName":"rastup-stage-monthly-budget-v1","budgetType":"COST","timeUnit":"MONTHLY","budgetLimit":{"amount":60,"unit":"USD"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"RastupBudgets-stage/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RastupBudgets-stage/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RastupBudgets-stage/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RastupBudgets-stage/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"RastupIdentity-stage":{"id":"RastupIdentity-stage","path":"RastupIdentity-stage","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"PipelineRole":{"id":"PipelineRole","path":"RastupIdentity-stage/PipelineRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportPipelineRole":{"id":"ImportPipelineRole","path":"RastupIdentity-stage/PipelineRole/ImportPipelineRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-stage/PipelineRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"},"description":"CI/CD pipeline role for Amplify and CDK deployment.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AdministratorAccess-Amplify"]]}],"maxSessionDuration":43200,"roleName":"rastup-stage-pipeline","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"stage"},{"key":"rastup:managed-by","value":"cdk"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RastupIdentity-stage/PipelineRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RastupIdentity-stage/PipelineRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","appconfig:GetConfiguration","appconfig:StartConfigurationSession"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"PipelineRoleDefaultPolicy77A82A74","roles":[{"Ref":"PipelineRoleDCFDBB91"}]}}}}}}},"BreakGlassAdmin":{"id":"BreakGlassAdmin","path":"RastupIdentity-stage/BreakGlassAdmin","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportBreakGlassAdmin":{"id":"ImportBreakGlassAdmin","path":"RastupIdentity-stage/BreakGlassAdmin/ImportBreakGlassAdmin","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-stage/BreakGlassAdmin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::029530099913:root"]]}}}],"Version":"2012-10-17"},"description":"Break-glass admin role requiring MFA and ticket annotation.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AdministratorAccess"]]}],"maxSessionDuration":14400,"policies":[{"policyName":"SessionControl","policyDocument":{"Statement":[{"Action":["sts:SetSessionTags","sts:TagSession"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"roleName":"rastup-stage-breakglass-admin","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"stage"},{"key":"rastup:managed-by","value":"cdk"}]}}}}},"SupportRole":{"id":"SupportRole","path":"RastupIdentity-stage/SupportRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportSupportRole":{"id":"ImportSupportRole","path":"RastupIdentity-stage/SupportRole/ImportSupportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-stage/SupportRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::029530099913:root"]]}}}],"Version":"2012-10-17"},"description":"Support engineering role with scoped read-only permissions.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/ReadOnlyAccess"]]}],"maxSessionDuration":14400,"roleName":"rastup-stage-support","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"stage"},{"key":"rastup:managed-by","value":"cdk"}]}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"RastupIdentity-stage/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RastupIdentity-stage/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RastupIdentity-stage/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RastupIdentity-stage/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"RastupBudgets-prod":{"id":"RastupBudgets-prod","path":"RastupBudgets-prod","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"MonthlyBudget":{"id":"MonthlyBudget","path":"RastupBudgets-prod/MonthlyBudget","constructInfo":{"fqn":"aws-cdk-lib.aws_budgets.CfnBudget","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Budgets::Budget","aws:cdk:cloudformation:props":{"budget":{"budgetName":"rastup-prod-monthly-budget-v1","budgetType":"COST","timeUnit":"MONTHLY","budgetLimit":{"amount":100,"unit":"USD"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"RastupBudgets-prod/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RastupBudgets-prod/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RastupBudgets-prod/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RastupBudgets-prod/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"RastupIdentity-prod":{"id":"RastupIdentity-prod","path":"RastupIdentity-prod","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"PipelineRole":{"id":"PipelineRole","path":"RastupIdentity-prod/PipelineRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportPipelineRole":{"id":"ImportPipelineRole","path":"RastupIdentity-prod/PipelineRole/ImportPipelineRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-prod/PipelineRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"codebuild.amazonaws.com"}}],"Version":"2012-10-17"},"description":"CI/CD pipeline role for Amplify and CDK deployment.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AdministratorAccess-Amplify"]]}],"maxSessionDuration":43200,"roleName":"rastup-prod-pipeline","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"prod"},{"key":"rastup:managed-by","value":"cdk"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RastupIdentity-prod/PipelineRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RastupIdentity-prod/PipelineRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:GetSecretValue","appconfig:GetConfiguration","appconfig:StartConfigurationSession"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"PipelineRoleDefaultPolicy77A82A74","roles":[{"Ref":"PipelineRoleDCFDBB91"}]}}}}}}},"BreakGlassAdmin":{"id":"BreakGlassAdmin","path":"RastupIdentity-prod/BreakGlassAdmin","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportBreakGlassAdmin":{"id":"ImportBreakGlassAdmin","path":"RastupIdentity-prod/BreakGlassAdmin/ImportBreakGlassAdmin","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-prod/BreakGlassAdmin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::029530099913:root"]]}}}],"Version":"2012-10-17"},"description":"Break-glass admin role requiring MFA and ticket annotation.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AdministratorAccess"]]}],"maxSessionDuration":14400,"policies":[{"policyName":"SessionControl","policyDocument":{"Statement":[{"Action":["sts:SetSessionTags","sts:TagSession"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"roleName":"rastup-prod-breakglass-admin","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"prod"},{"key":"rastup:managed-by","value":"cdk"}]}}}}},"SupportRole":{"id":"SupportRole","path":"RastupIdentity-prod/SupportRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportSupportRole":{"id":"ImportSupportRole","path":"RastupIdentity-prod/SupportRole/ImportSupportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RastupIdentity-prod/SupportRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::029530099913:root"]]}}}],"Version":"2012-10-17"},"description":"Support engineering role with scoped read-only permissions.","managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/ReadOnlyAccess"]]}],"maxSessionDuration":14400,"roleName":"rastup-prod-support","tags":[{"key":"rastup:component","value":"identity"},{"key":"rastup:environment","value":"prod"},{"key":"rastup:managed-by","value":"cdk"}]}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"RastupIdentity-prod/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RastupIdentity-prod/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RastupIdentity-prod/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RastupIdentity-prod/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}