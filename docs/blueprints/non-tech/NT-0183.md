<!-- id: NT-0183 | source: ProjectPlans\Combined_Master_PLAIN_Non_Tech_001.docx | range: 658800-662800 -->

p (e.g., availability 5 min; social metrics 24 h; rep score
1 h; reliability 24 h).

Backfill on miss: fall back to heuristics + minimal onthefly compute
(distance, schedule overlap).

Parity checks: nightly compare offline vs online distributions; drift
alarms (§5.8).

C\) Feature Groups (PIIsafe, unitized)

Provider / Service Profile (roleaware)

rep_score_role (0--100), id_verified (bool), trusted_pro (bool),
instant_book (bool)

Pricing stats: price_min_cents, price_max_cents,
price_percentile_city_role

Performance: acceptance rate, completion rate, ontime delivery, dispute
rate (90day, 180day windows)

Availability density next 14 days; responsetime median (last 60 days)

Social: followers, avg views, ER (basis points), growth flags (verified
only flags)

Buyer

Historical spend decile, cancel rate, dispute rate, verified status, ACH
on file (ACH reduces buyer fee, a conversion lever)

Query intent features: budget percentile vs market, role searched, NSFW
preference state (policysafe)

Query & Context

Role, city, distance (km), requested start/end (local time), flexibility
window, NSFW filter, license type

Market liquidity indicators (supply/demand index by city/role/hour)

Interaction & Graph

Prior collaborations (buyer↔provider), message history recency,
shortlists/boards presence

Studio (when applicable)

Studio verified (bool), deposit rule (percent/cap), amenity match score,
distance, availability

No raw PII (emails/phones/addresses). Sensitive attributes (e.g.,
gender, race) are not collected and must not be inferred.

D\) Feature Contracts & Storage

Schema: feature_key (string), featureset_version (semver),
entity_key(s), as_of_ts, columns of typed features.

Units: money in cents, times in minutes, percentages in basis points.

Nulls: explicit defaults (e.g., -1 for unknown percentile); masks for
unavailable signals.

Docs: every feature has an owner, definition, refresh cadence, and
expected range.

E\) Training Datasets & Labels

Search Reranker

Positive labels: result clicks → inquiries; inquiries → accepted
bookings (separate heads or cascaded models).

Negatives: shown results not clicked or clicked but never
inquired/booked (biascontrolled with exposure logs).

Splits: timebased (train on T8w to T2w; validate on T2w to T1w; test on
last week).

Calibrate scores (Platt/Isotonic) to produce probability estimates.

Smart Invites

Label: booking within 7 days after invite (or within thread), weighted
by fulfillment.

Risk

Label: noshow, late cancel, chargeback; classimbalance techniques with
costsensitive losses; human review for actions.

Promotions QS

Label: valid click, inquiry, booking from promoted impression; holdout
used for incremental lift training target.

Fairness & leakage checks

Pointintime joins only; coldstart cohorts tested explicitly.

Outcome disparity monitored by city, role, tenure decile, price decile
(we avoid protected classes).

F\) Model Registry & Cards

model_key (e.g., rank.v1, smart_invite.v1, risk.v1, promo_qs.v1) with
semver and featureset_version hash.

Model Card includes: objective, data ranges, features used, evaluation
metrics (AUC, PR, calibration), slices, known limits, fairness audits,
and rollback plan.

Artifacts stored with checksums; reproducible training scripts and
seeds.

Approval workflow: marketplace PM + T&S signoff for rank/risk models.

G\) Inference APIs & Integration Points

Unified inference service

POST /ml/predict with { model_key@version, context: {
query/buyer/profile/lbg }, features_override?, request_id, ab_cell }

Returns { predictions\[\], latency_ms, model_version,
featureset_version, warnings\[\] }

SLOs

Ranking per page: p95 \< 50 ms (excluding feature fetch); Smart Invites
batch: p95 \< 300 ms.

Search pipeline hook

Retrieve eligible organic candidates (postfilter).

Fetch features, call rank.vX.

Blend: organic rank = base_match_score × calibrated P(inquiry) ×
availability/distance priors.

Guardrails: diversity by price and newsel