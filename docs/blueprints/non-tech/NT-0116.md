<!-- id: NT-0116 | source: ProjectPlans\Combined_Master_PLAIN_Non_Tech_001.docx | range: 417600-421600 -->

.

I\) Alerts & Anomaly Detection

Highrisk action alerts to Slack/email: manual payouts, deposit captures,
fee overrides, permanent disables, tax overrides.

Anomaly monitors:

"TIN views by a single admin \> N/day"

"Refunds issued \> \$X in 1h"

"IB suppressions \> Y/day by same actor"

"Mass role changes"

Daily digest: PII views, highrisk actions, failed JIT requests; link to
audits.

J\) Telemetry (Admin Access Events)

admin.login.success/fail (role) • admin.session.timeout •
admin.device.trust.add

admin.elevate.request/approve/deny/expire (scope, reason)

admin.twoperson.request/approve/deny (action)

admin.pii.unmask (field, reason) • admin.export.download (scope)

admin.viewas.start/end • admin.impersonate.start/end

admin.alert.sent (type) • admin.anomaly.detected (rule_id)

audit.view (filters) • audit.export

K\) Acceptance Criteria (mark 4.14.1 FINAL)

SSO + mandatory 2FA for all admin roles; session/timeouts enforced;
environment banner shows clearly.

RBAC roles & scopes implemented; sensitive scopes (PIITax,
PIIBackground, MoneyCritical, SafetyCritical) enforced at API and UI.

JIT elevation with reason and approver; timeboxed tokens; logs captured.

Twoperson approval on manual payouts, fee overrides, deposit capture
\>\$1k, tax nexus overrides, final adverse actions.

PII masked by default; unmask requires scope + reason; PII access ledger
visible and exportable.

ViewAs (readonly, masked) vs Impersonate (restricted, no money moves)
implemented with banners and dual logging.

Immutable audit with before/after diffs on entities; searchable and
exportable; legal hold flag present.

Alerts & anomaly rules active; Slack/email wiring; daily digest
generated.

UI safety patterns: action drawers require reasons; confirmations for
risky actions; killswitch pattern in §4.14.2.

Telemetry events fire for all listed actions.

L\) Why this works

Prevents accidental harm (leastprivilege, masked defaults,
confirmations).

Stops malicious misuse (JIT + twoperson rule + anomaly alerts +
immutable audits).

Speeds legit work (viewas to debug safely; impersonation gated for rare
cases).

Regulatoryfriendly (PII access ledger, legal holds, full diffs).

§4.14.2 --- Config & Feature Flags

Goal: Give Ops the nocode levers to launch, tune, and safeguard the
marketplace citybycity and rolebyrole. Ship a typed Config Registry,
targeted Feature Flags, safe rollouts/rollbacks, and guardrails so the
team can change policy, pricing, ranking, promos, and safety without
deployments.

A\) Scope & Principles

Single source of truth: a versioned, typed registry consumed by all
services (search, booking, billing, trust, promos).

Targeted overrides: global \< US \< state \< city \< role \< cohort
(most specific wins).

Safety rails: validation, min/max bounds, twoperson approvals for
money/safety keys.

Observable: every read/write logged; diffs, rollbacks, and blastradius
previews.

Fast & reversible: staged rollouts, scheduled publishes, oneclick
revert.

Auditfirst: immutable history with actor, reason, before/after.

B\) Config Registry (model & precedence)

Entity: config_set

Keys: namespaced (fees.provider_pct, refunds.talent.bands,
search.weights.rep ...).

Value types: boolean, int, float, money, string, enum, json (schema
enforced).

Scope: global\|US\|state\|city\|role\|cohort (compound scopes allowed,
e.g., city=HOU,role=studio).

Versioning: semantic increment; store diffs and publish notes.

Validation: schema + business rules (e.g., fees.provider_pct \>= 0.09).

Precedence: mostspecific scope overrides broader scopes; unresolved keys
inherit.

Workflows

Draft → Validate → Preview → Approve (2person for sensitive) →
Schedule/Publish → Monitor → Rollback.

Preview: simulate impact on last N searches/bookings; show KPI
guardrails.

Rollback: pick prior version; instant invalidate caches; autonotify
services.

C\) Feature Flags (targeting & kill switches)

Flag types: boolean (on/off), percentage (staged rollout), variant
(A/B