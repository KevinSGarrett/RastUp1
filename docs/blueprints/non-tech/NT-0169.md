<!-- id: NT-0169 | source: ProjectPlans\Combined_Master_PLAIN_Non_Tech_001.docx | range: 608400-612400 -->

s rollup (or derived from booking
status transitions).

Search→Inquiry Conversion --- inquiries opened ÷ search result clicks
(same role/city/day).\
Where: gold.fact_search + messaging opens leading to a thread
(msg.thread_open).

Inquiry→Booking Conversion --- booking requests ÷ inquiries
(threadlinked).\
Where: gold.fact_thread_activity + gold.fact_booking_leg.

Ontime Delivery Rate --- legs that hit deliverables window ÷ completed
legs.\
Where: gold.fact_booking_leg (accepted_at ≤ due_at derived).

Safety Report Rate --- T&S cases per 1,000 completed legs; severity
buckets.\
Where: gold.fact_ts_case + gold.fact_booking_leg.

Payout Latency --- median days from completed_at → payout_sent_at.\
Where: gold.fact_booking_leg + gold.fact_payout_leg.

Promotions Spend (Boost/Featured) --- CPC clicks valid (Boost) + weekly
fees (Featured).\
Where: gold.fact_promo.

CPB (Cost per Booking) --- promo_spend / attributed_bookings.\
Incremental CPB: promo_spend / incremental_bookings via holdout.

ROAS --- gmv_attributed / promo_spend; Incremental ROAS uses
gmv_incremental_cents.

Rep Decile Share --- distribution of bookings by provider Rep Score
decile.\
Where: join gold.fact_booking_leg →
gold.dim_service_profile.rep_score_role.

Tax Collected --- Σ tax_cents from gold.fact_tax (jurisdiction
breakdowns).

D\) Sample catalog entries (YAML)

metrics:

\- key: gmv_cents@1.0.0

title: Gross Merchandise Value (GMV)

owner: Finance

grain: lbg

base_table: gold.fact_lbg

expression: \|

SUM(subtotal_cents + addons_total_cents + travel_total_cents +
license_total_cents)

filters:

\- exclude_deposits: true

allowed_dimensions: \[dt, week, month, city_id, role, buyer_user_id,
has_talent_leg, has_studio_leg\]

privacy_tier: public

tests:

\- reconciles_with: fact_payment (tolerance_cents: 100)

\- non_negative: true

notes: \"Excludes buyer fee, taxes, and deposits.\"

\- key: platform_revenue_cents@1.0.0

title: Platform Revenue (Bookings)

owner: Finance

grain: leg

base_table: gold.fact_booking_leg

expression: \|

SUM(provider_fee_cents + buyer_fee_cents_alloc)

allowed_dimensions: \[dt, city_id, service_role, service_profile_id,
instant_book, policy_band_on_cancel\]

privacy_tier: public

tests:

\- ties_to_settlements_daily: true

\- key: take_rate_pct@1.0.0

title: Take Rate %

owner: Finance

grain: city_day

derived_from:

numerator: platform_revenue_cents@1.0.0

denominator: gmv_cents@1.0.0

expression: \"(NUMERATOR / NULLIF(DENOMINATOR,0)) \* 100\"

allowed_dimensions: \[dt, city_id, role\]

privacy_tier: public

\- key: cpb_cents@1.0.0

title: Cost per Booking (Ads)

owner: Growth

grain: campaign_day

base_table: gold.fact_promo

expression: \"SUM(spend_cents) / NULLIF(SUM(bookings),0)\"

allowed_dimensions: \[dt, city_id, role, promotion_campaign_id, type\]

privacy_tier: public

\- key: roas@1.0.0

title: ROAS (Direct)

owner: Growth

grain: campaign_day

base_table: gold.fact_promo

expression: \"SUM(gmv_attributed_cents) / NULLIF(SUM(spend_cents),0)\"

allowed_dimensions: \[dt, city_id, role, promotion_campaign_id, type\]

privacy_tier: public

\- key: roas_incremental@1.0.0

title: ROAS (Incremental, Holdout)

owner: Growth

grain: campaign_day

base_table: gold.fact_promo

expression: \"SUM(gmv_incremental_cents) / NULLIF(SUM(spend_cents),0)\"

allowed_dimensions: \[dt, city_id, role, promotion_campaign_id, type\]

privacy_tier: public

notes: \"Holdout-based incrementality per §3.3.\"

\- key: acceptance_rate_pct@1.0.0

title: Acceptance Rate %

owner: Marketplace Ops

grain: provider_day

numerator_sql: \|

SELECT provider_user_id, dt, COUNT(\*) AS accepts

FROM gold.fact_booking_leg WHERE status = \'accepted\' GROUP BY 1,2

denominator_sql: \|

SELECT provider_user_id, dt, COUNT(\*) AS decisions

FROM gold.fact_booking_leg WHERE status IN (\'accepted\',\'declined\')
GROUP BY 1,2

expression: \"(Σaccepts / NULLIF(Σdecisions,0)) \* 100\"

allowed_dimensions: \[dt, city_id, service_role, service_profile_id,
instant_book\]
