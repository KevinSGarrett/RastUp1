<!-- id: NT-0156 | source: ProjectPlans\Combined_Master_PLAIN_Non_Tech_001.docx | range: 561600-565600 -->

 currency in
payload (e.g., \"currency\": \"USD\").

IDs are stable, opaque strings (see §5.2).

PII (email, phone, TIN, full address) must not appear in payloads; store
tokens/IDs and join in protected tables only.

occurred_at is when the action happened; received_at is ingestion time;
both required.

B\) Naming Rules

event_name is namespace.action in snake_case, e.g., search.query_run,
fin.checkout_pay_success.

Namespaces (toplevel):\
acct, search, profile, msg, booking, deliver, promo, fin, tax, studio,
sup, ts, cms, data, obs, bulk, legal.

Action verbs: run, click, open, send, read, request, accept, decline,
cancel, change_order, upload, accept, queue, sent, fail, charge, credit,
calc_request, calc_response, case_open, decision, publish, rollback,
start, finish.

No breaking renames. If semantics change incompatibly, mint a new
event_name.

C\) Versioning Policy (semver)

event_version = \"MAJOR.MINOR.PATCH\".

MINOR/PATCH: add optional fields, tighten enums with backwardcompatible
defaults.

MAJOR: breaking change → do not bump; create a new event_name (e.g.,
booking.request → booking.request_v2).

Producers must not drop required fields of an existing version.

D\) Types, Enums & Limits (global)

Time: ISO8601 UTC.

Money: integers in cents; currency code \"USD\" at launch.

Distance/geo: meters (int) or \"lat\",\"lon\" floats when needed.

Strings: max 1,024 chars unless noted; free text capped to 5,000.

Arrays: max 1,000 elements; item types defined per schema.

Enums (global):

actor_role:
buyer\|model\|photographer\|videographer\|creator\|studio_host\|admin\|system

leg_role: talent\|studio

platform: web\|ios\|android\|admin\|system

privacy_tier: public\|pii_basic\|pii_sensitive\|pii_tax\|pii_background

E\) Privacy Tiers (enforced at ingest)

public: no PII, safe for broad analytics.

pii_basic: indirect identifiers (user IDs, ip_hash, masked last4).

pii_sensitive: address fragments, DOB (never emitted in events---only
tokens permitted; use for joins if absolutely necessary).

pii_tax: W9/W8/1099 refs (IDs only).

pii_background: background check references (IDs only).

Rule: Raw PII values are forbidden in event payloads; only tokens/IDs
allowed.

F\) Core Event Families & Schemas (v1)

Below are contract excerpts (required fields ✓). Full JSON Schemas live
in the Schema Registry (admin UI reference in §5.3).

1\) Search & Discovery

search.query_run v1.0.0

\"payload\": {

\"query_text\": \"swimwear\",

\"role\": \"model\", // required

\"filters\": { \"city_id\": \"city_houston\", \"height_in\": {\"min\":
66, \"max\": 70}, \"price_cents\": {\"max\": 50000}, \"nsfw\": false },

\"results_count\": 128, // required

\"safe_mode\": true // required

}

search.result_click v1.0.0

\"payload\": {

\"result_user_id\": \"usr_p3f91\",

\"service_profile_id\": \"srv_mdl_81a2\",

\"position\": 3, // 1-based

\"promoted\": false

}

search.zero_results v1.0.0\`

\"payload\": {

\"query_text\": \"editorial at 3am\",

\"role\": \"videographer\",

\"filters\": { \"city_id\": \"city_houston\", \"availability\":
\"2025-11-10\" }

}

2\) Messaging

msg.thread_open v1.0.0

\"payload\": {

\"thread_id\": \"thrd_7a91\",

\"participants\": \[\"usr_buyer123\", \"usr_mdl456\"\],

\"origin\": \"profile\" // profile\|invite\|rfp

}

msg.send v1.0.0

\"payload\": {

\"thread_id\": \"thrd_7a91\",

\"message_id\": \"msg_9f11\",

\"type\": \"text\", // text\|image\|doc\|quote

\"length\": 134,

\"attachments\": \[

{\"attachment_id\": \"att_55\", \"kind\": \"image\", \"bytes\": 284455,
\"hash\": \"sha256:\...\"}

\],

\"read_receipt\": false

}

msg.read v1.0.0\`

\"payload\": { \"thread_id\": \"thrd_7a91\", \"message_id\":
\"msg_9f11\" }

3\) Booking & LBG

booking.request v1.0.0

\"payload\": {

\"role\": \"model\", // requested service role

\"service_profile_id\": \"srv_mdl_81a2\", // required

\"package_id\": \"pkg_mdl_standard\",

\"price_breakdown\": { // required

\"currency\": \"USD\",

\"subtotal_cents\": 30000,

\"addons_ce