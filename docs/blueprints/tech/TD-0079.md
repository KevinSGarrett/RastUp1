<!-- id: TD-0079 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 284400-288400 -->

*Creator dashboard**: earnings, subscriber counts/churn, top PPV,
  request backlog.

## **1.14.I GraphQL API (AppSync) --- selected**

*type FansubCreator {*\
*creatorId: ID!, handle: String!, displayName: String!,*\
*priceMonthCents: Int!, currency: String!, isPublished: Boolean!,*\
*nsfwOk: Boolean!, idvRequiredOk: Boolean!*\
*}*\
\
*type SubscriptionStatus { status: String!, currentPeriodEnd:
AWSDateTime!, renews: Boolean! }*\
\
*type PPVPost {*\
*ppvId: ID!, title: String!, caption: String, priceCents: Int!,*\
*previewMedia: \[Attachment!\]!, nsfwBand: Int!, isPublished: Boolean!*\
*}*\
\
*type Query {*\
*fansubCreator(handle: String!): FansubCreator!*\
*fansubPPV(creatorHandle: String!, cursor: String, limit: Int=12):
PPVPage!*\
*mySubscription(creatorId: ID!): SubscriptionStatus*\
*myPPVAccess(ppvId: ID!): Boolean!*\
*}*\
\
*type Mutation {*\
*publishFansubCreator(input: FansubCreatorInput!): FansubCreator!*\
*subscribe(creatorId: ID!): SubscriptionStatus! \# kicks off Stripe
flow*\
*cancelSubscription(subId: ID!): Boolean!*\
\
*tip(creatorId: ID!, amountCents: Int!): Boolean!*\
*buyPPV(ppvId: ID!): Boolean!*\
\
*requestQuote(creatorId: ID!, title: String!, brief: String!,
priceCents: Int!): ID!*\
*acceptQuote(requestId: ID!): Boolean!*\
*deliverRequest(requestId: ID!, manifestRef: ID!, note: String):
Boolean!*\
*approveRequest(requestId: ID!): Boolean!*\
*requestRevision(requestId: ID!, note: String!): Boolean!*\
*}*\

**Server guards**

- All mutations check **IDV age gate** from §1.6.
- Entitlement gating for PPV & subscriber‑only posts.
- Rate limits on tips/requests to prevent abuse.
- Pricing floors/ceilings from AppConfig to avoid outliers.

## **1.14.J Notifications & comms (from §1.10)**

- **Event triggers**: subscription start/renew/fail, PPV unlocked,
  request quote/paid/delivered, tip received.
- **Channels**: email/push/in‑app; SMS only for critical payment issues
  (opt‑in).
- **Quiet hours** respected for non‑critical; digest for batch updates.
- **Templates**: *fansub_sub_started*, *fansub_invoice_failed*,
  *fansub_ppv_unlocked*, *fansub_request_quote*,
  *fansub_request_delivered*.

## **1.14.K Analytics & experiments (from §1.13)**

- Events: *fansub.subscribe.start\|success\|fail*, *fansub.tip*,
  *fansub.ppv.buy*,
  *fansub.request.quote\|paid\|delivered\|approved\|revision*,
  *fansub.preview.view*, *fansub.final.view*.
- Funnels: profile → subscribe; preview → PPV buy; request quote → paid
  → approved.
- Guardrails: refund rate, complaint rate, moderation flags.
- Experiments: pricing A/B, preview length, watermark density, digest
  timing.
- NRT ops: creator earnings today, MTD, subscriber churn, request
  backlog, invoice failures.

## **1.14.L Admin consoles**

- **Creator eligibility** (IDV status, strikes) and publish toggle.
- **Refund & dispute desk** for tips/PPV/requests (policy simulator).
- **DMCA queue** with evidence viewer and timers.
- **Content moderation** (previews text/media); escalation & suspension
  controls.
- **Finance**: statements for creators, payout schedule, reserve flags.

All actions audited (actor, reason, before/after), some require dual
approval.

## **1.14.M Performance & cost**

- **Storage**: previews only; lifecycle to Intelligent‑Tiering after 30
  days.
- **Bandwidth**: HLS previews limited (10--20 s); CloudFront caching;
  signed cookies for private previews when needed.
- **Compute**: watermarking/transcode via Lambda on demand; no always‑on
  media servers.
- **Stripe**: use **billing thresholds** & retries for subs; dunning
  emails via Stripe to reduce send costs.
- **Search**: PPV/creator discovery in Typesense with lean fields (no
  captions in index).

## **1.14.N Error taxonomy (client‑safe)**

- *FANSUB_IDV_REQUIRED* --- user not age‑verified.
- *FANSUB_CREATOR_NOT_PUBLISHED* --- creator page not live.
- *FANSUB_PRICE_OUT_OF_RANGE* --- violates pricing policy.
- *FANSUB_ENTITLEMENT_REQUIRED* --- trying to access locked content.
- *FANSUB_REQUEST