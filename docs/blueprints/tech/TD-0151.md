<!-- id: TD-0151 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 543600-547600 -->

afe‑Mode & SFW gating (SEO)**

- **Indexable pages must be Safe‑Mode clean**: if any visible component
  would render NSFW previews, return *noindex,nofollow*.
- **Profile/studio completeness:** below threshold → **noindex** to
  avoid thin content.
- **Fan‑Sub (paid)**: *noindex* on all paid content and collection
  pages; preview pages (teasers) are SFW.

## **1.27.14 Analytics & monitoring**

- **GSC** integration per environment (prod only).
- **Event taxonomy:** *seo.published*, *seo.noindex_applied*,
  *seo.sitemap.emit*, *seo.redirect.hit*, *seo.ogimage.render*.
- **Dashboards:** impressions/clicks by city/role, CTR by directory,
  profile/studio coverage (% indexable), sitemap submission health,
  crawl errors over time.
- **Alarms:** surge in 5xx, sitemap job failures, spike in
  *noindex_applied* beyond baseline (could indicate Safe‑Mode flagging).

## **1.27.15 Cost posture**

- **Serverless build & serve**: ISR caches on CloudFront; minimal SSR
  compute.
- **OG image render**: edge function cached with low TTL; invalidate
  only on profile/studio image change.
- **No third‑party SEO SaaS** required at launch; GSC + internal logs
  suffice.

## **1.27.16 Artifacts (copy‑pasteable)**

- *web/public/robots.txt* (above)
- *web/pages/sitemap.xml.ts* (index builder) +
  *web/pages/sitemaps/\*.ts* (modular feeds)
- *web/lib/seo/canonical.ts* (canonical builder)
- *web/seo/jsonld-person.tsx*, *web/seo/jsonld-place.tsx*,
  *web/seo/jsonld-breadcrumbs.tsx*
- *web/app/(public)/\.../opengraph-image.tsx* (dynamic OG images)
- *observability/budgets/web.json* (CWV budgets)
- *web/next.config.mjs* redirects (legacy → canonical)

## **1.27.17 Test plan**

2495. **Indexability matrix:** verify *index,follow* on city listings,
      SFW profiles/studios; verify *noindex,nofollow* on any page with
      NSFW risks, Safe‑Mode OFF, or paid content.
2496. **Canonicals:** for facet URLs, canonical points to base; for
      allowed sorts/pagination, canonical preserves them; prev/next
      present for paginated listings.
2497. **Sitemaps:** validate XML; GSC fetch succeeds; sitemaps list only
      indexable URLs; updated on publish/unpublish.
2498. **JSON‑LD:** Person/Place/Breadcrumb validate in Rich Results;
      studios never leak exact address pre‑booking.
2499. **OG/Twitter:** correct images and titles; images update on asset
      change; cached at edge.
2500. **CWV:** Lighthouse CI passes budgets on templates; field beacons
      report within targets after deploy.
2501. **Redirects:** legacy slugs 301 to current; no redirect loops;
      canonical host enforced.
2502. **Error handling:** 404 returns hard 404; maintenance returns
      Retry‑After; robots obeys disallows.
2503. **Security:** no PII or paid asset URLs in page source; signed
      URLs never appear in HTML.

## **1.27.18 Acceptance criteria --- mark §1.27 FINAL only when ALL true**

2504. Robots, canonicals, and sitemaps are live; only SFW, complete
      pages are indexable; combinatorial facets are non‑indexable.
2505. Profiles (Person) and Studios (Place) emit valid JSON‑LD;
      city/role directories emit BreadcrumbList; no exact studio address
      is exposed.
2506. SSR/ISR strategy implemented; paginated HTML for bots; prev/next
      and canonical tags correct.
2507. OG/Twitter images render with correct caching; redirect rules
      cover legacy paths.
2508. Core Web Vitals budgets enforced (build & field); dashboards and
      alerts wired; GSC is clean of soft‑404 or duplicate‑content
      warnings.
2509. Costs remain within launch budgets; no third‑party SEO tool
      lock‑ins.

# **§1.28 --- Admin Console, Ops & Support (Back‑Office) --- Full Technical Spec**

*(RBAC & SSO · immutable audit/WORM · user/listing moderation · Trust &
Safety casework (reports, DMCA, disputes) · finance ops & reconciliation
· search curation tools · Smart Docs admin · CMS (help/announcements) ·
feature flags & risk knobs · observability & SLAs · tests · acceptance)*

*