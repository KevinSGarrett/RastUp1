<!-- id: TD-0186 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 669600-673600 -->

**, shows **deflection**, and
      includes **readArticleIds** + context in created tickets.

NonTechBlueprint

3053. Ticketing wired with **priorities, SLAs, auto‑routing, macros**,
      QA sampling, and **breach alerts**.

NonTechBlueprint

3054. Agent console in Admin shows booking context and supports
      **one‑click outcomes** with audit.

NonTechBlueprint

3055. Dashboards show all KPIs from your plan; **Containment ≥ 70%**,
      **FRT P1 ≤ 4h; P2 ≤ 1 day** at steady state.

NonTechBlueprint

3056. Costs track to plan (few seats, serverless KB/search); **Zammad
      adapter** validated as fallback.

# **§1.7 --- Accounts, Profiles & Provider Onboarding (Service Profiles) --- Full Technical Spec**

**Purpose.** Turn a new user into a publish‑ready **Provider** with a
high‑quality **Public Profile** and at least one **Service Profile
(SP)** (packages, extras, licensing, availability, pricing, travel, and
Instant‑Book rules). Enforce **Safe‑Mode SFW** surfaces, tie unlocks to
**Trust & Verification** (§1.5), and wire publish to **Search/SEO**
(§§1.2, 1.27) and **Booking** (§1.3). Everything below is text‑only so
you can paste it directly into your master Word doc.

## **1.7.1 Scope → Technical**

- **Accounts**: auth, sessions, device trust, 2FA, email/phone
  verification, deletion/DSAR.
- **Public Profile** (for People): handle/slug, city, languages,
  genres/tags, SFW avatar/cover, bio, references.
- **Service Profile (SP)**: role‑specific offering (e.g., Model,
  Photographer, Videographer, Creator) with **Packages**, **Extras**,
  **Usage License tiers**, **Travel pricing**, **Availability**,
  **IB/RTB rules**, **City/Radius**.
- **Onboarding wizard** (step‑gated, resumable), **completeness score**,
  **publish checklist**, and **post‑publish nudge**.
- **Safe‑Mode**: SFW images only on public surfaces; NSFW
  blocked/blurred; FanSub content gated elsewhere.
- **Unlocks**: IDV gates **payouts**, **IB eligibility**, and **NSFW
  toggle** per §1.5.
- **Search/SEO**: index on publish; JSON‑LD Person; canonical slugs; ISR
  refresh.
- **Cost posture**: serverless, no external CMS; image transforms
  cached.

## **1.7.2 Architecture**

- **Frontend**: Next.js (web, SSR/ISR) + React Native app; shared
  components for Profile/SP editor and onboarding steps.
- **API**: AppSync GraphQL → Lambda resolvers.
- **Data**: Aurora Postgres (profiles, packages, extras, availability),
  DynamoDB (ephemeral onboarding progress, rate limits), S3 (assets).
- **Events**: Kinesis/SNS (*profile.publish*, *sp.publish*,
  *sp.updated*, *profile.completeness*) feeding Search/SEO jobs and
  analytics.
- **Auth**: Cognito with custom attributes for trust flags and 2FA.

## **1.7.3 Data model (Aurora, schema** ***profile*****)**

Cross‑refs: booking tables in §1.3; studios/blackouts in §1.24; trust
flags in §1.5.

**DDL ---** ***db/migrations/017_profile_core.sql***

*begin;*\
\
*create table profile.user_profile (*\
*user_id text primary key, \-- usr\_\...*\
*handle text unique not null, \-- slug /p/{handle}*\
*display_name text not null,*\
*bio text,*\
*city text, region text, country text,*\
*lat_approx numeric, lon_approx numeric, \-- geohash precision \~7*\
*languages text\[\] default \'{}\',*\
*genres text\[\] default \'{}\', \-- tags/categories*\
*avatar_s3 text, cover_s3 text,*\
*pronouns text,*\
*website_url text, social_links jsonb, \-- {ig, tt, yt, x}*\
*safe_mode_pref text not null default \'DEFAULT_ON\', \-- mirrors §1.5*\
*visibility text not null default \'public\', \--
public\|unlisted\|private*\
*completeness_pct int not null default 0, \-- computed*\
*created_at timestamptz default now(),*\
*updated_at timestamptz default now()*\
*);*\
\
*create table profile.role_profile (*\
*role_profile_id text primary key, \-- rpf\_\...*\
*user_id text not null references profile.user_profile(user_id) on
delete cascade,*\
*role_code text not null, \--
model\|photographer\|videographer\|creator\|mua\|stylist\...*\
*tagline text,*\
*expe