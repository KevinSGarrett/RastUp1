<!-- id: TD-0093 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 334800-338800 -->

iew + "Verified" tick).

NonTechBlueprint

- Safe‑Mode default ON for guests/new users; applies to People (18+
  gating) but **never hides Studios**.

NonTechBlueprint

### **E.2 Delivery & ranking**

- Build a **fan‑out‑on‑read** feed: query *feed_post* + follows; rank by
  recency, followed weight, verified chip, and engagement.
- Cursors (time + id) for pagination; **no unbounded fan‑out**.

### **E.3 Authoring**

- Creators/providers publish feed posts tagged by **role(s)**; one post
  can serve all tabs.

NonTechBlueprint

- Media previews run through the same **NSFW scan** rules as
  §1.10/§1.14; public views stay SFW.

## **1.16.F Social Share & Link‑in‑Bio**

### **F.1 Sharecard generator**

- **Lambda (headless Chromium)** renders responsive PNG/WebP with:
  avatar, name, role(s), city, 1--3 images, **QR** to profile/booking
  link, and **UTM**.

NonTechBlueprint

- Output sizes for IG/TikTok aspect ratios; store in S3 with
  **year‑long** cache.
- Watermark minimal; Safe‑Mode preview rules apply.

### **F.2 Link‑in‑bio minisite**

- Static microsite auto‑generated per user: **packages**,
  **availability**, **contact CTA**; includes **UTM** for attribution.

NonTechBlueprint

- Hosted on CloudFront; vanity URL; Safe‑Mode rules for previews.

## **1.16.G "Book Again" reminders (7/30/90)**

- Scheduler picks eligible past bookings tagged as **recurring
  packages**; sends **"Book Again"** at **7**, **30**, and **90** days
  post‑completion, pre‑filled with last scope and adjusted dates.

NonTechBlueprint

- Frequency caps by buyer/service‑profile pair; auto‑disables when buyer
  opts out.
- No 18+ media in comms; deep link to draft checkout.

## **1.16.H Referrals & Credits (two‑sided, abuse‑resistant)**

### **H.1 Programs (as per plan)**

- **Provider invites provider** → both get **+20 DM credits** after
  invitee **publishes a package** and completes **1 booking**.

NonTechBlueprint

- **Buyer invites buyer** → inviter gets **1 RFP credit** when invitee
  **posts a brief** and **awards** a booking.

NonTechBlueprint

- **Cross‑side referrals**: provider invites buyer; **\$15 buyer
  credit** toward next booking (**buyer fee only**). Guardrails below.

NonTechBlueprint

### **H.2 Guardrails (explicit from plan)**

- **Per‑user monthly caps**; **ID required** to redeem; **same device/IP
  fraud detection**; **clawback** if first booking is **refunded for
  fraud**.

NonTechBlueprint

### **H.3 Mechanics**

- **Invite flow** issues signed links that encode *program_id* and
  inviter; capture device/IP on accept.
- **Qualification events**: "package published," "brief posted,"
  "booking awarded/completed" feed a small **rules engine**; on pass,
  write **credit_ledger (award)**.
- **Clawback**: upon fraud/refund adjudication in §1.15/§1.9, write
  **credit_ledger (clawback)** and revoke unused credits.

## **1.16.I GraphQL API (selected)**

*\# Saved search & alerts*\
*type SavedSearch { searchId: ID!, scope: String!, city: String!,
queryJson: AWSJSON!, pausedUntil: AWSDate }*\
*type SavedSearchAlert { alertId: ID!, alertDt: AWSDate!, matchCount:
Int!, emailSent: Boolean!, inappCreated: Boolean! }*\
\
*type Query {*\
*mySavedSearches: \[SavedSearch!\]!*\
*myFeed(cursor: String, limit: Int = 25, tab: String): FeedPage!*\
*}*\
\
*input SavedSearchInput { scope: String!, city: String!, queryJson:
AWSJSON! }*\
\
*type Mutation {*\
*createSavedSearch(input: SavedSearchInput!): SavedSearch!*\
*pauseSavedSearch(searchId: ID!, days: Int!): SavedSearch! \# 30 days
typical*\
*deleteSavedSearch(searchId: ID!): Boolean!*\
\
*follow(targetId: ID!, targetKind: String!): Boolean!*\
*unfollow(targetId: ID!, targetKind: String!): Boolean!*\
\
*sendReferral(programId: ID!, inviteeEmail: String!): Boolean!*\
*redeemCredit(entryId: ID!, amountCents: Int!): Boolean! \# buyer fee
only scope validated server-side*\
*}*\

**Server guards**: Safe‑Mode checks in feed; per‑search daily dedupe;
per‑user referral caps; ID/age gate for credit rede