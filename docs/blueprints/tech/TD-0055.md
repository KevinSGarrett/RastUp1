<!-- id: TD-0055 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 198000-202000 -->

 **Grouping**: coalesce similar events (e.g., "3 new thread updates").
- **Actions**: "Mark all read", per‑item "Mark read", per‑group clear.
- **Pinning**: high‑priority items (security, legal) appear pinned until
  dismissed.

**T.3 Retention**

- Default retention 90 days; archive older items (user can fetch via
  "Load older" until 1 year, then cold storage).
- Privacy: no sensitive PII in in‑app bodies; deep link to secure pages.

## **1.10.U Experiments & localization**

**U.1 Experiments**

- **Bucketing**: sticky, per user (UUID‑v4 salted hash).
- Testable assets: email subject/preview text, CTA wording, send‑time
  (outside quiet hours), digest cadence.
- Metrics: delivery→open→click→conversion, unsubscribe delta; guardrails
  (bounce/complaint ceilings).
- Rollouts: feature flag controls + staged %; automatic rollback on
  guardrail breach.

**U.2 Localization**

- Locale resolution order: user setting → browser *Accept-Language* →
  city default → *en-US*.
- Templates per locale (name/version stable). Fallback to *en-US* when
  missing.
- Pluralization rules (CLDR), local date/time formatting using
  recipient's **timezone** (from quiet hours setting).
- Right‑to‑Left support in MJML (dir attribute), font fallback stacks.

## **1.10.V Link tracking & privacy**

- **Link wrapper**: */l/{token}* where *token =
  HMAC(user_id\|template_name\|msg_id\|url)*; logs *click* then 302 to
  *url*.
- **No tracking** for security/legal emails (privacy first) and
  unsubscribe links.
- **Open pixel** optional; respect **DNT** and suppress tracking for
  sensitive categories.
- **UTM** parameters for non‑critical emails only; strip PII.
- **Data minimization**: SMS never includes full names + full
  addresses + amounts in combination; use in‑app deep links.

## **1.10.W Admin console (Comms)**

- **Template Manager**: search, diff, preview (with sample variables),
  MJML validation, multi‑locale versions, **dual approval** for
  security/legal templates; staged rollout with kill‑switch.
- **Test send**: to whitelisted addresses only; record as
  *status=\'sent\'* with *cause_event=\'admin.test\'*.
- **Suppression Viewer**: search by hashed email/phone; show reasons;
  **re‑permission** only on explicit user opt‑in.
- **Campaigns/Digests**: configure digest cadence, review experiment
  assignments; simulate send volumes with cost estimates.
- **Audit log**: all admin actions immutable with actor, reason, diffs.

## **1.10.X Telemetry, dashboards & SLOs**

**X.1 Metrics**

- Volume per channel, delivery %, soft/hard bounces, complaints, opens,
  clicks, unsubscribe rate, digest suppression %, send latency
  (event→queue→provider), cost per 1k sends (email/SMS), push invalid
  token rate.

**X.2 SLOs**

- Event→queued **≤ 150 ms p95**; queued→provider **≤ 1 s p95**.
- Delivery rate ≥ **98.5%** on transactional (ex‑bounces/complaints).
- Complaint rate ≤ **0.1%**; hard bounce ≤ **0.3%** rolling 7‑day.
- In‑app notification fetch **≤ 120 ms p95**.

**X.3 Alerts**

- Bounce/complaint spikes by provider; quiet‑hours scheduler backlog;
  SMS spend anomalies; push invalid token surges.

## **1.10.Y Full test matrix (Part 2)**

**Deliverability**

1040. SPF/DKIM/DMARC pass; BIMI optional path.
1041. Shared IP warm sends; dedicated IP warmup plan verified (if
      enabled).
1042. From/Reply‑To policies applied; DMARC alignment OK.

**Suppression**\
4) Hard bounce → suppression; retry rules for soft bounces; complaint →
global suppression.\
5) One‑click unsubscribe toggles correct categories; re‑permission
requires explicit user action.

**In‑app**\
6) Pagination, grouping, unread counts, pinning; accessibility
roles/labels.

**Experiments**\
7) Stable bucketing; hold‑out analyses; guardrail auto‑rollback
triggers.

**Localization**\
8) Locale fallback path; pluralization; timezone formatting.

**Tracking & privacy**\
9) Link wrapper logs click; no tracking for security/legal; UTM only on
allowed templates; DNT honored.

**Admin**\
10) Templ