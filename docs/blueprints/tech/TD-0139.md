<!-- id: TD-0139 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 500400-504400 -->

pace_id*, *rule_code*, *value_bool*, *value_text*) ---
  noise, shoes, pets, food, **surveillance disclosure (required)**, crew
  limits, hazard toggles (strobe/haze/open flame/ladder).

NonTechBlueprint

- *space_pricing* (*space_id*, *currency*, *price_per_hour_cents*,
  *min_hours*, *cleaning_fee_cents*, *buffer_before_min*,
  *buffer_after_min*) --- widget computes example totals; buffers
  enforced.

NonTechBlueprint

- *space_availability_slot* (*space_id*, *weekday*, *start_minute*,
  *end_minute*, *effective_from*, *effective_to*, *is_blocked*) ---
  **hourly slots** with min hours and buffers.

NonTechBlueprint

- *space_deposit_policy* (*space_id*, *hold_cents*, *hold_currency*) ---
  "authorization only" label in widget.

NonTechBlueprint

- *space_verification_lite* (*space_id*, *status*, *evidence_doc_s3*,
  *ocr_json*, *place_match_score*, *badge_visible*) --- **Studio Lite**
  verification; on pass, badge available and can gate IB if policy
  requires.

NonTechBlueprint

- *space_review* (*review_id pk*, *space_id*, *author_user_id*,
  *rating_int*, *body*, *has_photos*, *created_at*,
  *is_verified_booking*) --- verified booking reviews labeled; owner
  **one reply** allowed.

NonTechBlueprint

- *space_reputation* (*space_id*, *score_float*, *volume*,
  *reliability*, *responsiveness*, *verification*, *recency*) ---
  breakdown as described.

NonTechBlueprint

- *space_listing_link* (*space_id*, *linked_people_profile_id*) ---
  supports "**Pair with Talent**" deep‑linking.

NonTechBlueprint

- *space_booking_policy* (*space_id*, *instant_book_enabled_bool*,
  *ib_guardrail_reason*) --- IB guardrails per city/feature flags as
  needed (ties to §3.9 ops).

NonTechBlueprint

**S3 prefixes**

- *spaces/{spaceId}/media/...* (images/video),
  *spaces/{spaceId}/docs/...* (rules PDF snapshot, verification docs),
  *spaces/{spaceId}/doorcode.txt* (encrypted at rest, shared only
  post‑booking).

**Typesense collection** *spaces_public*\
Fields: *title*, *city*, *neighborhood*, amenity facets, price/hour
(ranges), rating, **availability summaries** for a look‑ahead window.

## **1.24.4 GraphQL Schema (selected)**

*(file: api/schema/spaces.graphql)*

*type Space {*\
*id: ID!*\
*title: String!*\
*neighborhood: String*\
*quickFacts: QuickFacts!*\
*amenities: \[Amenity!\]!*\
*rules: \[Rule!\]!*\
*pricing: Pricing!*\
*availability: \[AvailabilityWindow!\]!*\
*media: \[Media!\]!*\
*reputation: Reputation*\
*host: HostSummary!*\
*locationPreview: LocationPreview! \# approximate map only*\
*reviews(page: Int = 1): \[SpaceReview!\]!*\
*linkedTalent: \[ID!\] \# people profile ids*\
*instantBookEnabled: Boolean!*\
*}*\
\
*type QuickFacts { sizeSqft: Int, ceilingHeightFt: Float,
daylightOrientation: String, powerNotes: String }*\
*type Amenity { code: String!, detail: AWSJSON }*\
*type Rule { code: String!, valueBool: Boolean, valueText: String }*\
*type Pricing { currency: String!, pricePerHourCents: Int!, minHours:
Int!, cleaningFeeCents: Int, bufferBeforeMin: Int, bufferAfterMin: Int
}*\
*type AvailabilityWindow { weekday: Int!, startMinute: Int!, endMinute:
Int!, effectiveFrom: AWSDate, effectiveTo: AWSDate, blocked: Boolean!
}*\
*type Media { id: ID!, type: String!, url: AWSURL!, thumbUrl: AWSURL!
}*\
*type Reputation { score: Float!, volume: Int!, reliability: Float,
responsiveness: Float, verification: Float, recency: Float }*\
*type HostSummary { userId: ID!, avatarUrl: AWSURL, responseStats:
AWSJSON, otherListings: Int! }*\
*type LocationPreview { latApprox: Float!, lonApprox: Float! }*\
\
*type SpaceReview { id: ID!, authorUserId: ID!, rating: Int!, body:
String!, hasPhotos: Boolean!, createdAt: AWSDateTime!, verifiedBooking:
Boolean!, ownerReply: String }*\
\
*input SpaceFilter {*\
*city: String, neighborhood: String, priceMin: Int, priceMax: Int,
amenityCodes: \[String!\], minCeilingFt: Float*\
*availableOn: AWSDateTime, durationHours: Int*\
*}*\
\
*type Query {*\
*searchSpaces(filter: SpaceFilter!, page: Int = 1): \[