<!-- id: TD-0177 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 637200-641200 -->

*Agent A --- Cards & Mutations**: JSON schemas; server validators;
  accept/decline/counter mutations; audit.
- **Agent B --- Search & Index**: Typesense mapping, ingestion jobs,
  query parser (filters & tokens).
- **Agent C --- Presence & Notifications**: typing/presence infra;
  read/delivered; push/email templates; digest builder.
- **Agent D --- Safety & Rate Limits**: anti‑circumvention rules, link
  classifier, token buckets, admin case‑bound access.

## **1.4.N Test plan --- additional cases to reach 99.9%**

2895. **Search tokens**: *card:proofs from:@buyer has:file date:2025-11*
      returns correct thread set.
2896. **Typing presence**: multi‑device typing shows once; TTL expiry
      clears state.
2897. **Delivery/read receipts**: ✓✓ hollow → ✓✓ filled when recipient
      opens; last_read_ts advances.
2898. **Email templates**: render variables; ICS attached on
      confirmed/rescheduled; quiet hours suppress push.
2899. **Digest**: timezone‑aware batching; de‑dup logic; opt‑out
      honored.
2900. **Anti‑circumvention**: nudge → throttle → soft‑block flow on
      repeated attempts; thread banner shows reason.

NonTechBlueprint

2901. **Case‑bound Admin**: JIT token allows only case threads; audit
      shows reads/actions with reason codes.
2902. **Attachment AV**: quarantined file cannot be downloaded; "clean"
      flips state and link appears.

## **1.4.O Acceptance criteria --- mark §1.4 FINAL only when ALL true**

2903. **Message Requests** gate first‑time contacts, with
      **Accept/Decline/Block** and credits & contact filters enforced.

NonTechBlueprint

2904. All **Action Cards** work end‑to‑end with the JSON payloads above
      and mutate bookings/payments where applicable.

NonTechBlueprint

2905. **Search** supports free‑text + tokens; Typesense index returns
      correct results within p95 \< 150ms.

NonTechBlueprint

2906. **Presence/typing**, **read/delivered** receipts, and **Quiet
      Hours** + exceptions behave per spec.

NonTechBlueprint

2907. **Notifications & digests** render correct templates; ICS
      attachments present for booking events.

NonTechBlueprint

2908. **Anti‑circumvention** thresholds operate (nudge → throttle →
      soft‑block) with Admin case‑bound access on severe/repeat.

NonTechBlueprint

2909. Safety (AV scan, SFW previews), rate limits, and audit trails are
      active; costs within serverless posture.

## **§1.5 --- Trust, Safety & Verification --- Technical Development Plan**

**Scope & alignment with your Non‑Technical Plan**

- This section operationalizes your trust & safety pillars: **18+
  gating; ID verification to unlock payouts/NSFW/Instant Book; optional
  background checks ("Trusted Pro"); SocialVerified; Safe‑Mode defaults;
  automoderation for uploads & messages; safety flags; strike ladder;
  evidence retention; risk scoring & payout holds**. These are
  explicitly listed as MVP items and acceptance criteria in your plan.

NonTechBlueprint

NonTechBlueprint

- It also implements "**Verification Center: ID, Background, Social,
  Studio Lite ... Safe‑Mode & FanSub gating enforced during onboarding;
  SFW previews on public surfaces**."

NonTechBlueprint

- Where policy specifics (artistic‑only public surfaces, Safe‑Mode
  defaults, reporting and moderation) are defined in §8.2, this section
  implements the systems, data, and workflows to make those policies
  real in product.

NonTechBlueprint_Part3

**Do‑not‑skip note:** Search ranking behavior tied to Safe‑Mode lives in
§1.2 and D4; this section provides the data/flags & enforcement used by
search and feeds, per your index references.

NonTechBlueprint

### **1.5.A Objectives & Non‑goals**

**Objectives**

2913. Verify **age & identity** for 18+ compliance and to unlock
      **payouts, NSFW toggle, and Instant Book**.

NonTechBlueprint

2914. Offer **optional background checks** to earn **Trusted Pro**.

NonTechBlueprint

2915. Provide **Safe‑Mode** that is **ON by default** for
      gues