<!-- id: TD-0290 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 1044000-1048000 -->

gs**: 30--90 days hot → Glacier 12 months.

**Deletion & DSAR propagation.**

- **Graph**: user→orders/threads/reviews/media→search index→analytics
  sessions.
- **Guarantee**: search purge ≤ 5m; analytics tombstones within nightly
  jobs.
- **Backups**: immutable; deletion not retroactive but not restored
  except for DR (documented).

**Artifacts.** *privacy/data_lifecycle.md*,
*ops/scripts/s3_lifecycle.yml*, *services/dsar/propagate.ts*.

**Acceptance.** DSAR E2E test shows redaction across
app/search/analytics; S3 lifecycle & DB TTL policies active; audit log
events recorded.

## **A4. Payments --- SCA/3DS, Apple/Google Pay, ACH posture, refunds kernel hardening**

**Checkout.**

- Stripe **PaymentIntents** with automatic SCA (3DS2) and fallback to
  challenge.
- **Apple Pay / Google Pay** via Stripe Elements (wallets) enabled at
  launch.
- **ACH**: **Phase‑2** option via **Stripe Financial Connections** or
  Plaid; not MVP (reduces complexity & risk).
- **Stored cards**: off by default at MVP; plan tokenization later (PCI
  SAQ‑A preserved).

**Refund kernel (policy engine).**

- Time‑bands (full/partial/none) tied to provider policy; fee retention
  caps; chargeback evidence pack generation.
- **Idempotency** & **webhook reconciliation**: *refund.succeeded*
  aligns with ledger.

**Payouts.**

- MFA on changing payout destination; velocity limits for first 30 days;
  hold on fraud flags.

**Tests.** 3DS challenge success/failure; partial & full refunds;
dispute creation; payout change MFA; ACH sandbox (if enabled).

**Artifacts.** *ops/runbooks/stripe_wallets.md*,
*services/payments/refund_kernel.ts*, *contracts/stripe/\*.json*.

**Acceptance.** p95 checkout \< 600ms server time (excl. challenge);
wallet success rate tracked; refunds/chargebacks reconcile.

## **A5. Accessibility --- Assistive Technology Matrix & Manual QA**

**Assistive tech matrix (must‑test):**

- **Screen readers:** NVDA (Windows/Chrome), JAWS (Windows/Chrome),
  VoiceOver (macOS/Safari), TalkBack (Android/Chrome), VoiceOver
  (iOS/Safari).
- **Keyboard‑only:** all flows reachable; focus order logical; skip
  links.
- **Color/contrast:** WCAG AA (large text ≥ 3:1, normal ≥ 4.5:1).
- **Motion & prefers‑reduced‑motion:** disable non‑essential animations.

**Manual scripts (per surface):**

- Auth forms (login/signup/reset)
- Profile editor (avatar/crop; gallery reorder)
- Search filters (facet toggles)
- Checkout (error summaries, card field labels)
- Messaging (thread navigation)

**Artifacts.** *a11y/manual_matrix.md*, *web/tests/a11y.spec.ts*,
*web/a11y/aria-map.md*.

**Acceptance.** 0 **critical** violations in axe; manual matrix passes
on at least one device per OS.

## **A6. Supply‑Chain & SBOM / Vulnerability Management**

**Controls.**

- **SBOM** generated on every release (CycloneDX).
- **Dependency scans** (SCA) + **SAST**; severity SLAs: Critical 48h,
  High 7d, Medium 30d.
- **Container scanning** (Typesense images); minimal base images.
- **Update bot** (Renovate) with weekly PR cadence; lockfile integrity.
- **Artifact integrity**: build provenance (GitHub OIDC→AWS); image
  signing optional (cosign).

**Artifacts.** *.github/workflows/security.yml*,
*security/sbom/README.md*, *ops/policies/vuln_sla.md*.

**Acceptance.** No open Critical vulns in prod deps; SBOM attached to
each release; mean time to remediate meets SLA.

## **"Is anything else missing?" Quick scorecard**

  ---------------------------------------------- ----------------------------- --------------------------------------------------
  **Area**                                       **Status**                    **What we added here**
  Functional UX (auth, profiles, public pages)   ✅ Covered in §1.31           Screen‑level specs, validations, uploads, states
  SEO & programmatic landings                    ✅ §1.17 + §1.31              CWV budgets, sitemaps, OG SFW, hreflang
  Search/discovery                               ✅ §1.18                      Index schemas, rank