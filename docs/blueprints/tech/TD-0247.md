<!-- id: TD-0247 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 889200-893200 -->

 internal or very short (\<150 words) articles set
  *noindex,follow*.

## **1.20.10 Feedback, deflection & analytics**

- **Thumbs helpful/unhelpful** with optional comment (sanitized); store
  in *kb.article_feedback*.
- **Deflection metric**: if a user visits help within **15 minutes**
  *before* abandoning a support form **or** within **5 minutes** of a
  case *not being created*, count as deflection; attribute to article
  slug.
- **KPIs**: deflection rate, helpful ratio, time to first view after
  problem trigger, stale content backlog, search→help CTR, help→case
  rate.
- **Dashboards**: aggregated by category and locale.

## **1.20.11 Notifications (§1.10) & in‑product surfacing**

- **Nudges**: on certain errors (payment fail, calendar sync issue),
  show contextual inline help with top 1--2 articles and a **"Contact
  Support"** CTA.
- **Digest**: weekly top new/updated help articles to admins/agents;
  optional public "What's new" for release notes (if enabled).
- **Quiet hours**: same rules as §1.10; only critical service failure
  nudges bypass.

## **1.20.12 Safety & compliance**

- **SFW guarantee**: public help images are SFW; private screenshots or
  sensitive guides flagged *internal*.
- **PII controls**: no user names, emails, phone numbers in content.
- **DMCA/policy**: a takedown event revalidates affected pages within
  **≤10 min**.
- **Accessibility**: headings (H1→H3), alt text on images, focus order,
  44px tap targets.

## **1.20.13 Cost posture**

- Static pages (ISR + CDN) → negligible runtime cost.
- Authoring & feedback are small Lambda/API calls; Typesense reuses the
  existing cluster (§1.18).
- Image assets optimized (AVIF/WebP) and cached at edge; no 3rd‑party
  heavy scripts.

## **1.20.14 Work packages (Cursor --- 4 agents)**

- **Agent A --- Data & API**: DDL, GraphQL, feedback endpoints, review
  status job, redirects.
- **Agent B --- Authoring & Rendering**: MDX pipeline, sanitizer,
  Next.js pages, JSON‑LD injection, ISR hooks.
- **Agent C --- Troubleshooters**: graph editor (MVP as JSON editor),
  runtime renderer, action handlers to Support (§1.15).
- **Agent D --- Ops & SEO**: sitemaps, link checker CI, Search Console
  integration, dashboards, stale‑content alerts.

## **1.20.15 Tests (representative)**

4071. **Rendering**: public article renders with canonical, JSON‑LD
      (when FAQ), and SFW assets.
4072. **Internal**: internal article returns 200 for authorized agents;
      no JSON‑LD/sitemaps; *noindex*.
4073. **Troubleshooter**: decision paths trigger correct actions;
      open_case payload pre‑fills Support.
4074. **Review cycle**: due/overdue statuses flip; dashboard shows
      backlog; notifications sent.
4075. **Search**: help suggestions appear for common queries; internal
      content never leaks.
4076. **Redirects**: old slug 301 to new; Analytics aggregates to new
      slug.
4077. **Deflection**: visits within window reduce case creation rate;
      attribution recorded to article.

## **1.20.16 Artifacts (paste‑ready)**

- *db/migrations/027_helpcenter.sql* --- DDL above.
- *api/schema/helpcenter.graphql* --- API above.
- *services/help/mdx.ts* --- markdown→safe HTML renderer.
- *services/help/troubleshooter.ts* --- decision graph runtime.
- *web/help/\[slug\].tsx* --- Next.js page with ISR & JSON‑LD.
- *observability/dashboards/help.md* --- KPIs & alerts.
- *ops/runbooks/help-center.md* --- authoring, publish, and rollback
  steps.

## **1.20.17 Acceptance criteria --- mark §1.20 FINAL only when ALL true**

4085. Public Help Center pages render with canonical + JSON‑LD (when
      applicable), SFW images, and are included in */sitemap-help.xml*.
4086. Internal articles are **not indexable**, never appear in public
      search or sitemaps.
4087. Troubleshooter flows work end‑to‑end and can open typed Support
      cases with pre‑filled payloads.
4088. Review cycle + stale content alerts function; editors can
      publish/redirect safely.
4089. Search integrati