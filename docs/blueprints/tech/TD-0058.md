<!-- id: TD-0058 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 208800-212800 -->

x: *studio(is_published and verified_studio)* for search
  gating.

## **1.11.C Amenity taxonomy (canonical keys)**

Start with a small, expressive set (expandable in Admin):

- **Lighting**: *natural_light*, *north_light*, *blackout*,
  *strobe_included*
- **Backdrops**: *paper_seamless*, *cyc_wall*, *green_screen*
- **Facilities**: *makeup_area*, *dressing_room*, *restroom*,
  *kitchenette*
- **Logistics**: *parking*, *freight_elevator*, *ground_floor*,
  *loading_dock*
- **Comfort**: *ac*, *heating*, *wifi*
- **Audio**: *sound_treated*, *basic_audio_kit*
- **Furnishings/Props**: *props_basic*, *furniture_variety*
- **Power**: *30a_circuits*, *multiple_outlets*

Admin can add synonyms and groupings that feed search facets (see
§1.2.N).

## **1.11.D Onboarding & verification flow**

**Owner tasks**

1067. Create listing (title, description, address, city/geo).
1068. Add **amenities**, **capacity**, **pricing schedules**,
      **buffers**, **house rules**, and **deposit policy**.
1069. Upload **previews** (scanned; SFW).
1070. Submit **verification**: proof of control/ownership
      (lease/utility), IDV match to owner (see §1.6), optional insurance
      cert.

**Admin verification**

- Review docs; optional video call or geo‑code match.
- **Approve** → *verified_studio=true* and studio gets badge; **Reject**
  → return reasons.
- **Revoke** when reports or insurance lapse; all actions audited in
  *studio_verification_audit*.

**Publishing gate**

- Cannot publish unless required fields + minimum media count met and
  **house rules** present. Verification not required to publish, but
  required for some placements/promotions.

## **1.11.E Pricing & quote engine (deterministic)**

**Inputs**: date/time, duration, studio_id, rate schedule,
buffers/cleaning, deposit policy.\
**Steps**

1075. **Resolve rate** by DOW and local time window:

      o.  *Hourly*: within a rate window; price = ceil(duration / 60) \*
          hourly rate.
      p.  *Slot*: duration must equal *slot_minutes*; price = slot
          price.
      q.  *Day*: flat day price.

1076. **Apply minimums/maximums**.

1077. **Compute buffers**: ensure surrounding time is free
      (*buffer_before_min*, *buffer_after_min*, *cleaning_min*).

1078. **Overtime** (if requested or if stop late): price per 30m bucket
      from *overtime_cents_per_30m*.

1079. **Taxes**: quote service tax by city via adapter (see §1.3.E).

1080. **Deposit**: show **auth amount** (not part of GMV).

1081. **Total** per leg: *subtotal + service tax + platform fee + fee
      tax* (platform portions from §1.9).

**Edge cases**

- Split windows (e.g., crossing two hourly windows): either disallow or
  pro‑rate (MVP: disallow).
- Overlapping slot/day with hourly: pick the best matching schedule
  deterministically.

## **1.11.F Availability, buffers & conflicts**

**Authoritative blocks** are **accepted/confirmed** booking legs +
**blackouts**. *availability_json* is a hint for search only.

- On **propose/confirm**, we check for **overlaps + buffers**
  (before/after + cleaning).
- On **amend/reschedule**, re‑check conflict rules; if conflict, fail
  with *STUDIO_CONFLICT_BUFFER* or *STUDIO_BLACKOUT*.

**Calendar feeds**

- Generate **read‑only ICS** for owners (includes upcoming bookings +
  buffers), redacted buyer names.
- Optionally import a Google Calendar read‑only feed for soft conflicts
  (advisory). Hard conflicts are our DB.

## **1.11.G House rules & compliance docs**

**House rules** live on the **Studio leg doc pack** (see §1.5).
Examples: no glitter, no smoke machines, pet policy, quiet hours,
cleanup expectations, insurance requirements.

- **Deposit policy** language must match *deposit_required* and
  *deposit_auth_cents*.
- Any change to house rules that materially affects obligations
  **invalidates** existing doc packs for future bookings → re‑issue
  required.

## **1.11.H Images, safety & SEO**

- Previews only; scanned for NSFW/PII per pipeline; Safe‑Mode ON for
  