<!-- id: TD-0078 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 280800-284800 -->

titlement.

- Requests:

  - Creator issues **quote** (action card in thread).
  - Buyer pays **PaymentIntent**; on success, order → *succeeded*;
    request status *paid*.
  - Deliverable posted via action card; buyer **approves** or **requests
    revisions**.
  - Refunds follow §1.3 policy; disputes → §1.9 D.5.

- Taxes:

  - **Subscription/PPV/Requests** are **digital services**; compute
    **buyer tax** via tax adapter (Stripe Tax/Avalara/TaxJar) using
    buyer location.
  - We separately compute **platform fee taxes** per §1.9 for any fee we
    charge.
  - Receipts show line items: content price, tax, platform fee (if
    present), platform fee tax.

- **Payouts:** per creator via Stripe Connect scheduled payouts; we
  record *payout.queued\|paid* events into analytics (see §1.13).

## **1.14.E Watermarking, access, and anti‑scrape**

- Previews:

  - Images: server watermark (creator handle + order id) diagonally; max
    1600 px; JPEG/WebP.
  - Video snippets: 10--20 s HLS preview; burned watermark.
  - NSFW banding: if *nsfw_band=1*, blur until hovered & age‑gate OK;
    *=2* blocked on public.

- Finals (external manifests):

  - Manifest includes per‑file SHA‑256, filename, size, URL, optional
    watermark seed.
  - If using cloud providers that support transforms (e.g., Cloudflare
    R2/Stream), creators can host DRM; we just store references and
    checksums.

- Access control:

  - Entitlement check before revealing **final manifest URLs** (fetched
    on demand and short‑lived).
  - Per‑request signed redirects; **tokenized** fragment in querystring
    that expires.

- Rate limits & anti‑abuse:

  - Per‑user/view throttles; hotlink protection via CF **signed
    cookies** if we proxy some assets.
  - Download logs linked to user id for evidence in disputes.

## **1.14.F Messaging integrations (action cards)**

- **Request Quote** → **Pay** → **Deliver** → **Approve/Revise** loops
  occur in the **thread** using **action cards** defined in §1.4.E
  (reused with *ACTION_TYPE = FS_REQUEST\_\**).
- **Tip receipt** and **PPV unlocked** post system messages into the
  thread (optional; user‑toggle).
- **Nudges** (comms §1.10) for unsigned docs if the creator uses any
  release forms (off by default for Fan‑Sub).

## **1.14.G Safety, policy, and moderation**

- **IDV**: creators and fans must be 18+ verified before accessing
  Fan‑Sub surfaces.

- **Content rules**:

  - Prohibit illegal content, doxxing, hate, non‑consensual content.
  - For public previews, **SFW only**; NSFW allowed in finals if
    compliant and user's Safe‑Mode is OFF.

- **Moderation pipeline**: previews are scanned (image/video); text
  captions pass toxicity/PII checks; repeat violations trigger T&S
  review and potential suspension.

- **Anticircumvention**: block emails/phones in captions and messages;
  nudges and soft blocks escalate on repeat.

- **Reporting**: fans can report content; T&S console handles takedowns
  and refunds.

- **DMCA**:

  - Inbound claims queue → temporarily hide content; notify creator;
    counter‑notice process handled via Admin console.
  - Evidence stored (timestamps, hashes from manifest).
  - We do not provide legal advice; the tooling facilitates compliance.

## **1.14.H UX surfaces**

- **Creator page**: hero, SFW gallery, subscription CTA, PPV catalog
  with locked overlays, request button.
- **Subscribed feed**: latest posts from creators a fan follows; PPV
  unlock badges.
- **Thread**: request flows, proofs/finals approval, receipts.
- **Wallet/Receipts**: Fan can view purchases, invoices, tax lines.
- **Creator dashboard**: earnings, subscriber counts/churn, top PPV,
  request backlog.

## **1.14.I GraphQL API (AppSync) --- selected**

*type FansubCreator {*\
*creatorId: ID!, handle: String!, displayName: String!,*\
*priceMonthCents: Int!, currency: String!, isPublished: Boolean!,*\
*nsfwOk: Boolean!, idvRequiredOk: Boolean!*\
*}*\
\
*type SubscriptionStatus { status: String!, currentPeriodEnd:
