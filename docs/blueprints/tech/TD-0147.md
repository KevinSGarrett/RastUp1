<!-- id: TD-0147 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 529200-533200 -->

ase(kind: CaseKind!, summary: String!, subjectUser: ID,
orderId: ID, threadId: ID, listingId: ID): ID! \@auth(role:
\"trust_safety\")*\
*adminAddAction(caseId: ID!, action: String!, payload: AWSJSON):
Boolean! \@auth(role: \"trust_safety\")*\
*adminSuspendUser(userId: ID!, reason: String!): Boolean! \@auth(role:
\"trust_safety\")*\
*adminReinstateUser(userId: ID!): Boolean! \@auth(role:
\"trust_safety\")*\
*adminRefund(orderId: ID!, amountCents: Int!, reason: String!): Boolean!
\@auth(role: \"finance_ops\")*\
*adminHoldPayout(orderId: ID!, reason: String!): Boolean! \@auth(role:
\"finance_ops\")*\
*adminReleasePayout(orderId: ID!): Boolean! \@auth(role:
\"finance_ops\")*\
*adminSearchPin(scope: String!, city: String!, query: String, pinIds:
\[ID!\]!, ttlHours: Int): Boolean! \@auth(role: \"search_curator\")*\
*adminSynonymUpsert(id: String!, words: \[String!\]!): Boolean!
\@auth(role: \"search_curator\")*\
*adminTemplatePublish(templateId: String!, version: String!, locale:
String!): Boolean! \@auth(role: \"docs_admin\")*\
*adminFlagSet(key: String!, value: AWSJSON!): Boolean! \@auth(role:
\"engineering\")*\
*}*\

## **1.26.7 JIT access & privacy guardrails**

- **Case‑bound scopes**: to open any message or attachment, an admin
  must attach it to an **open case**; access grants are time‑boxed
  (e.g., 2 hours) and **auto‑revoked** when case status changes.
- View/download of sensitive artifacts (IDs, invoices, door codes) uses
  **signed, single‑use URLs** with short TTL.
- All views generate *admin_audit* entries with IP/UA and the case id.

## **1.26.8 Observability & SLAs**

- **Event taxonomy:** *admin.login*, *admin.case.create\|act\|close*,
  *admin.user.suspend\|reinstate*, *admin.refund\|hold\|release*,
  *admin.template.publish*, *admin.search.pin*, *admin.synonym.upsert*,
  *admin.flag.set*, *admin.audit.view*.

- **Dashboards:** case backlog & aging, time‑to‑first‑response,
  time‑to‑resolution, dispute outcomes, refund rate, appeal win rate,
  moderator workload, finance queue length, search pin performance.

- SLOs:

  - Reports triaged p95 ≤ 4h (business hours)
  - Disputes resolved p95 ≤ 5 days
  - Finance webhook→action p95 ≤ 15m
  - Audit write availability 99.99%

## **1.26.9 Content & SEO operations (light CMS)**

- Admin UI to author **help articles** (Markdown→HTML),
  **announcements**, and **city snippets** (meta description/intro
  copy).
- All content is versioned, localized (ties to §1.19), and pre‑rendered
  for SEO; Safe‑Mode always respected on public surfaces.

## **1.26.10 Rate‑limit & risk tuning**

- Sliders/toggles for **message starts/hour**, **signup/IP/day**,
  **search API burst**, **payments 3DS threshold**.
- Changes require two‑person approval (4‑eyes) for high‑impact risk
  knobs; change‑log recorded in audit.

## **1.26.11 Feature flags & config**

- Flags: **Instant Book eligibility**, **response SLA**, **deposit
  capture policy**, **city activation**, **Studio Lite requirement for
  IB**, **Saved‑search digests cadence**.
- Backed by DynamoDB table with typed schema, exposed read‑only to
  clients via CDN JSON for fast boot (signed, cache‑controlled).

## **1.26.12 CI/CD & access controls**

- Admin app deploys to a separate Amplify environment / CloudFront
  distribution.
- SSO required for any access; WAF blocks public traffic; IP allowlist;
  rate‑limits.
- Secrets in AWS Secrets Manager; no admin credentials in code.

## **1.26.13 Test plan**

2423. **RBAC**: each role's allowed/denied actions enforced; step‑up
      auth for finance/disputes.
2424. **Cases**: create/triage/resolve; SLA timers and notifications.
2425. **User**: suspend/reinstate; DSAR export; deletion request
      workflow.
2426. **Listings**: publish/unpublish; hazard/surveillance flags; COI
      required.
2427. **Finance**: refund/hold/release; reconciliation viewer; audit
      entries present.
2428. **Search curation**: pins & synonyms appear in search; TTL expiry
      works.
2429. **Docs admin**: templ