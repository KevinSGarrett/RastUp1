<!-- id: TD-0266 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 957600-961600 -->

**(excerpt)**

*name: e2e*\
*on:*\
*pull_request:*\
*jobs:*\
*deploy-preview:*\
*runs-on: ubuntu-latest*\
*steps:*\
* - uses: actions/checkout@v4*\
* - name: Deploy Amplify Preview*\
*run: yarn ops:deploy:preview \# wrapper around Amplify Gen-2 preview*\
* - name: Save preview URL*\
*run: echo \"PREVIEW_URL=\$(cat .preview-url)\" \>\> \$GITHUB_ENV*\
\
*e2e:*\
*needs: deploy-preview*\
*runs-on: ubuntu-latest*\
*strategy:*\
*fail-fast: false*\
*matrix: { shard: \[1,2,3,4\] }*\
*steps:*\
* - uses: actions/checkout@v4*\
* - uses: actions/setup-node@v4*\
*with: { node-version: \'20\' }*\
* - run: yarn install \--frozen-lockfile*\
* - run: npx playwright install \--with-deps*\
* - run: PREVIEW_URL=\${{ env.PREVIEW_URL }} npx playwright test
\--shard=\${{ matrix.shard }}/4*\
* - name: Upload traces*\
*uses: actions/upload-artifact@v4*\
*with: { name: \"playwright-traces-\${{ matrix.shard }}\", path:
\"playwright-report/\*\*\" }*\

## **1.25.10 Release qualification & sign‑off**

- **Checklists** (per release):

  - All **coverage gates** met; no **critical a11y** issues; perf
    budgets pass; **security scans clean** or accepted risks logged.
  - **Search freshness** SLA verified; **checkout success** pipeline ≥
    99.5%.
  - **Feature flags** toggled to "ramp" in Stage, then canary to Prod
    (10%→50%→100%).

- **Roles**: Engineering (tests pass), SRE (SLOs green), Trust & Safety
  (Safe‑Mode checks), Finance (payments ledger), PM (scope acceptance).

Artifacts: *ops/runbooks/release-checklist.md*,
*ops/runbooks/rollback.md*.

## **1.25.11 Defect triage & SLAs**

- **Severity levels**: S1 blocking revenue/safety; S2 major; S3 minor;
  S4 cosmetic.
- **SLA targets**: S1 \< 24h, S2 \< 3d, S3 \< 2w, S4 best‑effort.
- **Labels**: *area:\** (search, checkout, studios),
  *type:bug\|perf\|a11y\|security*, *sev:S1..S4*, *release-blocker*.
- **Escalation**: S1 opens incident flow (§1.24.12); link bug →
  postmortem.

Artifacts: *ops/triage_policy.md*, GitHub issue templates in
*.github/ISSUE_TEMPLATE/*.

## **1.25.12 Cost posture**

- Unit/contract/service‑integration run on every PR; **E2E only on
  labeled PRs** or nightly for main to control minutes.
- Heavy **k6** perf runs nightly/weekly only; dev perf smoke uses short
  ramps.
- Use **parallel shards** to cut wall time; cache npm and Playwright
  browsers.

## **1.25.13 Work packages (Cursor --- 4 agents)**

- **Agent A --- Foundations**: repo test scaffolds, Jest/TS config,
  coverage reporters, fixtures/seeders.
- **Agent B --- E2E & Visual**: Playwright suite, visual snapshots on
  hero flows, a11y hooks.
- **Agent C --- Contracts & Perf**: GraphQL/webhook contracts + k6
  scenarios + budgets.
- **Agent D --- CI & Release**: GitHub Actions workflows, coverage
  gates, preview deploy, release checklist & rollback hooks.

## **1.25.14 Tests (representative)**

4530. Booking kernel unit tests (min hours, overtime, deposits).
4531. Calendar buffers prevent overlaps; studio blackouts enforced.
4532. Safe‑Mode: NSFW never on public routes; OG/sharecards SFW only.
4533. Search ranking: verified/availability boosts within bounds;
      blocked/own profile excluded.
4534. Refund kernel time bands; Stripe webhook idempotency.
4535. Help deflection accounting; suggestions privacy (no email/phone
      tokens).
4536. Admin macros: DMCA takedown/restore logs + ISR revalidation.
4537. Analytics: click‑token precedence in attribution; experiment SRM
      alert on skew.
4538. Security: headers present; WAF blocks seeded attacks; no PII in
      logs.
4539. CWV budgets and API p95 respected on Stage; alerts open on
      regressions.

## **1.25.15 Artifacts (paste‑ready)**

- *jest.config.ts*, *playwright.config.ts*, *axe.config.js*
- *test/fixtures/\**, *e2e/specs/\**, *contracts/\**, *perf/k6/\*.js*
- .github/workflows/{build.yml,service-int.yml,e2e.yml,a11y.yml,perf-nightly.yml,release-qualify.yml}
- ops/runbooks/{test-data.md,release-checklist.md,rollback.md,triage_policy.md}

## **1.25.16 