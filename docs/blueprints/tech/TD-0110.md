<!-- id: TD-0110 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 396000-400000 -->



- **No client‑side cloaking**: bots must see a stable, indexable version
  (avoid A/B that changes indexable content for bots only).
- Keep experiments **server‑side** (SSR/ISR) or **non‑indexable** UI
  variations.
- For content experiments (titles, descriptions), roll out by **entity
  cohorts**; revalidate ISR pages on change.

## **1.17.14 Risk Register & Mitigations**

- **Duplicate content** via tracking params → mitigated by canonical
  middleware + 301.
- **Faceted crawl bloat** → *noindex, follow* + allowlist +
  self‑canonical.
- **Accidental 18+ leakage** → centralized SFW image service for
  OG/JSON‑LD; tests in CI.
- **Thin pages** (empty profiles) → hold *noindex* until profile meets
  completeness threshold.
- **CLS regressions** → enforce width/height on images; block unstyled
  font flashes.

## **1.17.15 QA Checklists (Pre‑launch & Ongoing)**

**Pre‑launch**

- Canonical/robots tags verified on top templates.
- Sitemaps (web/image/video) present and validate; robots.txt references
  index.
- JSON‑LD validates on 25 sample pages across types.
- Lighthouse p75 budgets met on emulated mobile.
- All OG images SFW; email templates tested for SFW previews.

**Ongoing**

- Weekly crawl dashboard reviewed; non‑indexable hit rate trending down.
- GSC: errors addressed; CTR and position monitored for top city/role
  pages.
- Uptime for ISR revalidation hooks; cache hit ratio ≥95% for public
  pages.

## **1.17.16 Work Packages (Cursor 4‑agent lanes)**

- **Agent A --- Web:** canonical middleware, meta/LD‑JSON injectors,
  templates (title/desc/headers), image/video sitemaps, breadcrumb
  component.
- **Agent B --- API:** SEO resolvers, slug service, ISR revalidation
  hooks, Search Console export cron.
- **Agent C --- Ops:** CloudFront behaviors, logs→S3→Athena pipeline,
  robots/noindex header policy, cache keys.
- **Agent D --- QA/Perf:** Lighthouse CI, JSON‑LD tests, SFW OG guard,
  crawl dashboards, a11y audits.

## **1.17.17 Acceptance Criteria (mark §1.17 FINAL only when ALL true)**

1907. Canonical URLs, robots **headers + meta**, and parameter stripping
      are live; filter/pagination pages are **noindex** and
      self‑canonical.
1908. City/role landings exist and are indexable; hubs and detail pages
      have **SFW OG** images; age‑gated items are **noindex**.
1909. JSON‑LD present and valid for Person(+Offers), LocalBusiness,
      Article, BreadcrumbList, and (where applicable) VideoObject.
1910. Segmented **web + image + video sitemaps** generate correctly and
      reference only indexable content; robots.txt points to the index.
1911. CWV budgets met (p75 mobile) on Home, City/Role landing, Service
      Profile, Studio Detail, and a Case Study page.
1912. A11y checks pass (axe/Pa11y) on public pages; images have alt;
      keyboard navigation functional.
1913. CloudFront logs + GSC are ingested; crawl waste \<10% of bot hits
      after 30 days; cache hit ratio ≥95%.
1914. SEO‑safe experimentation policy enforced; no client‑side cloaking
      or bot‑variant divergence.

# **§1.18 --- Security, Compliance & DevSecOps**

*(zero‑trust architecture · IAM boundaries · authN/authZ for AppSync ·
secrets & key mgmt · encryption in transit/at rest · data classification
& PII minimization · logging/audit & tamper‑evidence · WAF/bot/DDOS
protections · vulnerability mgmt & CI/CD hardening · incident response &
DR · compliance scaffolding · telemetry, SLOs, tests, costs)*

**Purpose.** Define the end‑to‑end security & compliance posture for the
marketplace (web/app, Amplify/AppSync/Lambda/Aurora/DynamoDB/S3/CF,
Stripe/IDV/esign providers), with **implementation‑grade** controls and
inline artifacts you can paste into the plan. This section will not
advance until it satisfies the **≥99.9%** bar.

## **1.18.A Security canon & threat model**

1915. **Least privilege & zero trust.** Every call is authenticated and
      authorized; no "trusted subnet."
1916. **Default‑deny at edges.** WAF blocks obvious bad traff