<!-- id: TD-0178 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 640800-644800 -->

and feeds, per your index references.

NonTechBlueprint

### **1.5.A Objectives & Non‑goals**

**Objectives**

2913. Verify **age & identity** for 18+ compliance and to unlock
      **payouts, NSFW toggle, and Instant Book**.

NonTechBlueprint

2914. Offer **optional background checks** to earn **Trusted Pro**.

NonTechBlueprint

2915. Provide **Safe‑Mode** that is **ON by default** for
      guests/first‑time viewers; only **SFW previews** appear on public
      surfaces.

NonTechBlueprint_Part3

NonTechBlueprint

2916. Automoderate **media & messages**, enable **reporting**, **triage
      queues**, **appeals**, and **graduated enforcement** with
      **evidence retention**.

NonTechBlueprint

2917. Compute **risk scores & payout holds** (esp. for new providers)
      and keep **immutable audit logs** for Ops/Legal.

NonTechBlueprint

NonTechBlueprint_Part3

**Non‑goals**

- Drafting public policy language (lives in §8.2). This section
  implements it.

NonTechBlueprint_Part3

### **1.5.B Architecture (AWS Amplify Gen‑2 / AppSync / Stripe‑first)**

**Core services**

- **Auth & RBAC:** Cognito (18+ attestation at signup; IDV status flags
  via custom attributes).

- **GraphQL API:** AppSync (owner‑authorized mutations; admin backdoor
  via IAM).

- **Data:** DynamoDB (PII & case records), S3 (evidence, redacted
  exports), EventBridge (safety events), Step Functions (IDV &
  background‑check orchestration), CloudWatch (alarms & dashboards).

- **Payments & Payouts:** Stripe Connect (Express) with **Stripe
  Identity** for IDV to tightly couple KYC ➜ payouts; **ACH via Link**
  (Plaid optional fallback for non‑Link banks).

- **Background checks (Trusted Pro):** Checkr (default) with webhooks to
  Step Functions.

- **Content moderation:** Hybrid pipeline:

  - **Tier‑0** (cheap/fast): keyword filters + on‑upload thumbnail NSFW
    classifier (open‑source) to set *content.sensitivity*.
  - **Tier‑1** (vendor): image/video moderation via AWS Rekognition
    (labels: Explicit Nudity, Suggestive, Violence, etc.).
  - **Tier‑2** (human): Trust queue in Admin with side‑by‑side evidence
    & policy rubric.

**Cost rule:** Tier‑0 runs for every upload; Tier‑1 runs on (a)
high‑reach surfaces, (b) uncertain Tier‑0 results, (c) reports/appeals.
Human review only on escalations. This keeps moderation spend elastic
while meeting your **SFW‑only public** commitment.

NonTechBlueprint_Part3

**Safe‑Mode data flow**

- Upload ➜ moderation pipeline sets
  *media.safeModeRequired=true\|false* +
  *sensitivity=none\|lingerie\|mature*.
- **Default Safe‑Mode ON** for unauth'd & first‑visit sessions;
  signed‑in adults can toggle. Frontend & Search respect these flags;
  **FanSub** tabs render only if Safe‑Mode is OFF.

NonTechBlueprint

### **1.5.C Data model (DynamoDB & S3)**

**Tables (PK/SK → key; GSI → query patterns)**

2927. UserTrust

- **PK**=*USER#{userId}*, **SK**=*TRUST#PROFILE*
- Flags: *is18PlusAttested*,
  *idv.status(pending\|passed\|failed\|expired)*, *idv.vendor*,
  *bg.status*, *bg.vendor*, *social.verified{ig,yt,tt}*,
  *studioVerified*, *safeModePreference(defaultOn\|off)*,
  *instantBookEligible*, *nsfwToggleEligible*, *payoutsEligible*,
  *risk.score*, *strikes.activeCount*, *holds.type{newAcct\|risk}*,
  timestamps.
- **GSI1**: *idv.status* → audit & ops queues
- **GSI2**: *bg.status* → Trusted Pro targeting
- **GSI3**: *risk.score* → Finance holds

2933. *VerificationCase* (IDV & Background)

- **PK**=*USER#{userId}*, **SK**=*CASE#{caseId}*
- Type: *idv\|background\|studio\|reference*
- *state* (state‑machine), *vendorSessionId*, *webhookLog\[\]*,
  *decision*, *evidenceRef\[\]*, *expiresAt* (TTL for PII), *appealRef*.

2937. ModerationItem

- **PK**=*ITEM#{mediaId\|messageId}*, **SK**=*MOD#{modId}*
- *kind(media\|message)*, *signals* (labels/scores), *ruleHits\[\]*,
  *finalDecision(allow\|blur\|block\|remove)*, *safeModeRequired*,
  *auditId*.

2940. SafetyReport

- **PK**=*REPORT#{reportId}*, **SK**=*CASE*
- *accused