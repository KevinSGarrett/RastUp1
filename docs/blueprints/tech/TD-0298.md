<!-- id: TD-0298 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 1072800-1076800 -->

*email_hash()*, *phone_mask()*).

**O.4 Lineage & propagation**

- DSAR delete cascades from app → search (≤ 5m) → analytics (next
  nightly).
- Data map in *data/lineage/lineage.md* (arrows, producers/consumers,
  schedules).

**O.5 Acceptance**

- Automated jobs enforce retention; Stage contains no live PII; DSAR
  propagation verified monthly.

## **Appendix P --- Requirements Traceability Matrix (RTM) --- Framework & Seed Entries (paste‑ready)**

**Purpose.** Provide the audit‑grade linkage from **every requirement**
in your non‑technical plan to the **technical artifacts** and **tests**
that implement it.

**P.1 Columns**\
*ReqID \| Requirement (canonicalized) \| Tech refs \| Test refs \|
Status (Met/Partial/Out-of-scope) \| Notes*

**P.2 Location & format**

- File: *docs/rtm/RTM_v1.csv* (UTF‑8) and *docs/rtm/RTM_v1.md*
  (human‑readable).
- For long text, keep the canonical requirement sentence concise;
  include a doc link (page/section).

**P.3 Seed entries (representative --- fill down with your doc's
ReqIDs)**

- **R‑AUTH‑001** \| Users can **sign up** with email + password and
  verify email. \| §1.31‑H.3.2; *api/schema/auth.graphql*; notifications
  templates \| *auth.spec.ts* (signup/verify), E2E auth flow \| **Met**
  \| CAPTCHA after risk; breach‑check on password.
- **R‑AUTH‑004** \| Users can **log in** with email/password and social
  (Google/Apple). \| H.3.1; Cognito config; *web/pages/login.tsx* \|
  *auth_login.spec.ts* \| **Met** \| Lockout after 5 fails; SSO error
  states.
- **R‑PROF‑010** \| Providers edit profile; **upload/crop/reorder**
  images; SFW moderation. \| H.4.2; §1.11 media svc; *services/media/\**
  \| *profile_media.spec.ts*, a11y checks \| **Met** \| Originals
  private; SFW on public.
- **R‑CAL‑020** \| Calendar feasibility with buffers/blackouts; ICS
  **import (RO)** and **outbound ICS**. \| §1.12;
  *api/schema/calendar.graphql* \| *calendar_rules.spec.ts*,
  *ics_outbound.spec.ts* \| **Met** \| DST correctness tests included.
- **R‑BOOK‑030** \| **Holds → Confirmed** atomic booking; refunds per
  policy bands. \| §1.3, §1.14; refund kernel \|
  *booking_state_machine.spec.ts*, *refund_kernel.spec.ts* \| **Met** \|
  Timeline action cards generated.
- **R‑PAY‑040** \| Stripe **SCA/3DS**, receipts, payout holds on risk.
  \| §1.13; A4 (payments addendum); Appendix M \|
  *payments_3ds.spec.ts*, *payout_change_mfa.spec.ts* \| **Met** \|
  Wallets enabled; ACH Phase‑2.
- **R‑MSG‑050** \| Messaging with attachments; anti‑circumvention &
  block/report. \| §1.4; H.8 \| *messaging_block.spec.ts* \| **Met** \|
  Rate limits per dyad.
- **R‑SEO‑060** \| Sitemaps, canonical/hreflang, SFW OG images, CWV
  budgets. \| §1.17; H.6; K (cache) \| *seo_smoke.spec.ts*, Lighthouse
  CI \| **Met** \| Robots toggle rehearsed.
- **R‑SRCH‑070** \| Search with text + facets + geo; **Safe‑Mode**
  forced on public. \| §1.18 (schemas/ranking/cache) \|
  *search_relevance.spec.ts*, safety tests \| **Met** \| Personalization
  boosts; blocked users excluded.
- **R‑GRW‑080** \| Saved searches, digests, referrals with clawback. \|
  §1.16; §1.30‑Growth \| *growth_digest.spec.ts*, referral tests \|
  **Met** \| Frequency caps enforced.
- **R‑SUP‑090** \| Help center, troubleshooters; **DMCA** takedown &
  restore. \| §1.20; §1.15 \| *dmca_flow.spec.ts* \| **Met** \| SLA
  timers configured.
- **R‑ANL‑100** \| Analytics taxonomy; attribution with **click‑token
  proof**; experiments with guardrails. \| §1.21; L (events) \|
  *event_contract.spec.ts*, CUPED tests \| **Met** \| SRM checks in CI.
- **R‑ADM‑110** \| Admin RBAC & immutable **WORM** audit; macros for
  refunds/DMCA. \| §1.22 \| *admin_rbac.spec.ts*, audit chain tests \|
  **Met** \| Dual control for sensitive changes.
- **R‑PRV‑120** \| DSAR exports & **portability** bundle with redaction
  & receipts. \| §1.28 \| *export_redaction.spec.ts*,
  *receipt_pdf.spec.ts* \| **Met** \| 7‑day auto‑expiry.
- **R‑API‑130** \| Partner **REST + Webhooks** with OAu