<!-- id: TD-0263 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 946800-950800 -->

mapping (initial posture)**

- **GDPR/CCPA**: DSRs, consent logs, RTBF, data maps, processor
  registry, SCCs if needed.
- **PCI DSS**: Stripe SAQ‑A controls (no PAN, TLS, secure webhooks,
  quarterly ASV scans optional).
- **DMCA**: notice/takedown workflows and recordkeeping.
- **Tax/KYC**: W‑9/W‑8 storage, access controls (Finance role only),
  annual re‑cert reminders.
- **Accessibility**: WCAG 2.1 AA in UI (covered in §1.17/§1.20 rendering
  standards).

Artifacts: *compliance/gdpr_ccpa_checklist.md*,
*compliance/saq_a_controls.md*.

## **1.24.14 Cost posture**

- Prefer **AWS‑native**: CloudTrail/GuardDuty/WAF/Athena security lake;
  avoid heavy SIEM subscriptions until volume warrants.
- Enable GuardDuty primarily in **prod** and **stage**; dev opt‑in.
- Short log retention in dev; longer in prod (meets retention policy);
  archive older logs to Glacier.
- Use sampling for high‑volume traces; focus alerts on actionable
  conditions to control noise.

## **1.24.15 Work packages (Cursor --- 4 agents)**

- **Agent A --- Foundations**: CDK security stacks (WAF, Trails,
  GuardDuty, KMS), Secrets Manager wiring, OIDC role boundaries.
- **Agent B --- AppSec & SDLC**: CodeQL, dependency audits, IaC checks,
  SBOM pipeline, DAST job, vuln SLA workflow.
- **Agent C --- Privacy & DSAR**: consent schema, DSAR pipeline across
  app/search/analytics, retention jobs, CMP wiring.
- **Agent D --- Monitoring & IR**: security lake (Athena views),
  detection queries, alert wiring, incident runbooks & drills.

## **1.24.16 Tests (representative)**

4448. **AuthZ**: attempt cross‑role reads/writes; verify denials & PII
      masking.
4449. **WAF**: block known SQLi/XSS payloads; rate‑limit kicks in.
4450. **S3**: buckets deny public; only pre‑signed URLs access private
      media.
4451. **KMS**: keys scoped; rotation status; decrypt forbidden to
      unprivileged roles.
4452. **AppSec gates**: CI fails on seeded secret, critical CVE, schema
      contract break.
4453. **DSAR**: end‑to‑end delete removes user across app DB, S3 media,
      search index, analytics lake within SLA.
4454. **Safe‑Mode**: public queries cannot retrieve NSFW; OG/sharecards
      SFW only.
4455. **Webhooks**: reject replays; signature mismatch test; DLQ path.
4456. **Incident drill**: simulated key leak triggers IR playbook;
      postmortem created with action items.

## **1.24.17 Artifacts (paste‑ready)**

- *infra/cdk/security.ts* --- WAF, CloudTrail, GuardDuty, KMS.
- *security/data_inventory.md*, *security/kms_key_plan.md*,
  *security/vuln_sla.md*.
- *.github/workflows/security-scans.yml*, *security/sbom/\**,
  *security/dast.yml*.
- *privacy/consent_schema.md*, *privacy/retention_policy.md*,
  *privacy/dsar_runbook.md*.
- *services/media/moderation.ts*, *services/risk/rules.yaml*.
- *ops/runbooks/incident_response.md*, *ops/runbooks/dmca.md*.
- *observability/dashboards/risk.md*, *security/detection_queries.sql*.
- *compliance/gdpr_ccpa_checklist.md*, *compliance/saq_a_controls.md*.

## **1.24.18 Acceptance criteria --- mark §1.24 FINAL only when ALL true**

4465. WAF, CloudTrail (org), GuardDuty (prod/stage) and KMS keys are
      live; Secrets Manager rotations active.
4466. AppSec pipeline (SAST, deps, IaC, DAST, SBOM) is enforced in CI;
      vuln SLA dashboard exists.
4467. Privacy: consent gating active; DSAR delete removes identity
      across app/search/analytics within SLA; retention jobs run.
4468. Safe‑Mode invariants hold on public surfaces; DMCA takedown &
      restore flow work and are audited.
4469. Payments stay SAQ‑A via Stripe; any Plaid usage is token‑only;
      webhooks hardened & idempotent.
4470. Security lake/detections and IR playbooks are in place; a drill
      has been run and documented.
4471. Costs are controlled (native services, scoped enablement,
      retention/lifecycle rules).

# **§1.25 --- Quality Engineering & Test Strategy (Automation, Performance, Accessibility & Release Qualification)**

**Full Technical Develop