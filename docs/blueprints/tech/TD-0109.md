<!-- id: TD-0109 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 392400-396400 -->

*Code‑split** heavy widgets; ship minimal JS on public pages.
- Preconnect only to **our CDN** and **Stripe** (checkout only).
- Serve **stale‑while‑revalidate** via ISR + CloudFront.
- Use **first‑party analytics** via *sendBeacon* (no third‑party bloat).

**Artifact --- Lighthouse CI budget**\
*Recommended path:* *observability/budgets/lighthouse.json*

*{*\
*\"resourceSizes\": \[*\
*{\"resourceType\":\"total\", \"budget\": 900},*\
*{\"resourceType\":\"script\", \"budget\": 160}*\
*\],*\
*\"timings\": \[*\
*{\"metric\": \"interactive\", \"budget\": 3500},*\
*{\"metric\": \"first-contentful-paint\", \"budget\": 1800}*\
*\]*\
*}*\

## **1.17.8 Internationalization (hreflang) & Localization**

- Launch locale: **en‑US**; all public pages must set *\<html
  lang=\"en\"\>*.
- **Hreflang scaffolding** in head for future locales; keep canonical
  **without** locale in path; add *\<link rel=\"alternate\"
  hreflang=\"...\"\>* once translations ship.
- Localize **currency/date/number** rendering server‑side for public
  pages; keep URLs stable.

**Artifact --- hreflang helper**\
*Recommended path:* *web/lib/hreflang.ts*

*export const hreflangLinks = (canonical, alts) =\>*\
*alts.map(a =\> \`\<link rel=\"alternate\" hreflang=\"\${a.lang}\"
href=\"\${a.href}\"\>\`).join(\"\\n\")*\
* + \`\\n\<link rel=\"alternate\" hreflang=\"x-default\"
href=\"\${canonical}\"\>\`;*\

## **1.17.9 Accessibility (A11y) Synergy for SEO**

- Semantic structure (landmarks, headings) and **visible focus**.
- Keyboard‑reachable filters/maps; ARIA for tabs/carousels.
- Image **alt** as above; captions/transcripts on videos.
- Error pages with clear next actions; readable contrast (≥4.5:1 body
  text).

## **1.17.10 Sitemaps (Web, Image, Video)**

**Strategy**

- **Index file** */sitemap.xml* linking to segmented sitemaps (People
  A‑Z, Studios by city, Case Studies, Cities).
- **Image sitemaps** for people/studios (SFW thumbnails only).
- **Video sitemap** for case studies with videos.

**Artifact --- Image sitemap entry (template)**\
*Recommended path:* *web/sitemaps/templates/image-url.xml*

*\<url\>*\
*\<loc\>https://rastup.com/studio/{{slug}}\</loc\>*\
*\<image:image\>*\
*\<image:loc\>https://cdn.rastup.com/sfw/{{imageFile}}\</image:loc\>*\
*\<image:title\>{{imageTitle}}\</image:title\>*\
*\<image:caption\>{{imageCaption}}\</image:caption\>*\
*\</image:image\>*\
*\</url\>*\

## **1.17.11 Internal Linking & Breadcrumbs**

- **Breadcrumbs** everywhere (Home → City → Role → Entity).

- In‑content cross‑links:

  - On profiles: "Similar in {City}", "Studios with {Amenity}"
  - On studios: "People recently booked here"

- Avoid link farms; keep blocks 3--8 items; **deterministic** selection.

## **1.17.12 Log‑File Analysis & Search Console Ingestion**

- Export **edge logs** (CloudFront) + **app access logs** to S3; model
  into Athena (§1.13).
- Build **crawl dashboard**: hits by bot UA, 200/3xx/4xx, coverage of
  sitemaps, crawl waste on non‑indexable pages.
- Ingest **GSC** performance/coverage via API to the lake; build SEO
  funnel (impressions→clicks→profile views→checkout).

**Artifact --- Athena table (simplified)**\
*Recommended path:* *data/sql/cf_logs.sql*

*CREATE EXTERNAL TABLE IF NOT EXISTS cf_logs (*\
*dt string, time string, x_edge_location string, sc_status int,
cs_method string,*\
*cs_uri_stem string, cs_uri_query string, cs_user_agent string,
cs_referer string*\
*)*\
*PARTITIONED BY (date string)*\
*ROW FORMAT SERDE
\'org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\'*\
*LOCATION \'s3://logs/cloudfront/\';*\

## **1.17.13 SEO‑Safe Experimentation**

- **No client‑side cloaking**: bots must see a stable, indexable version
  (avoid A/B that changes indexable content for bots only).
- Keep experiments **server‑side** (SSR/ISR) or **non‑indexable** UI
  variations.
- For content experiments (titles, descriptions), roll out by **entity
  cohorts**; revalidate ISR pages on change.

## **1.17.14 Risk Register & Mitigations**

- **Duplicate content