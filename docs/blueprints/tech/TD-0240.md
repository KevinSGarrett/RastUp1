<!-- id: TD-0240 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 864000-868000 -->

,*\
*headline text,*\
*description_md text not null,*\
*publish_status studio.publish_status not null default \'draft\',*\
*verification studio.verification_status not null default
\'unverified\',*\
*instant_book boolean not null default false,*\
*city text not null,*\
*country text not null,*\
*neighborhood text,*\
*address_hash text, \-- hashed; full address stored in secure table*\
*lat double precision not null,*\
*lng double precision not null,*\
*h3_7 text, \-- coarse geo cell (search buckets)*\
*sqft int,*\
*capacity int,*\
*base_unit studio.price_unit not null default \'hour\',*\
*hourly_min int not null, \-- cents*\
*day_rate_cents int, \-- optional*\
*min_hours numeric(4,2) not null default 2.0,*\
*cleaning_fee_cents int not null default 0,*\
*overtime_rate_pct int not null default 150, \-- % of hourly_min per
overtime unit*\
*buffer_before_min int not null default 30,*\
*buffer_after_min int not null default 30,*\
*deposit_kind studio.deposit_kind,*\
*deposit_cents int,*\
*insurance_required boolean not null default false,*\
*nsfw_band int not null default 0, \-- 0=SFW*\
*verified_chip boolean not null default false,*\
*ratings_avg numeric(3,2) default 0.0,*\
*ratings_count int not null default 0,*\
*created_at timestamptz default now(),*\
*updated_at timestamptz default now()*\
*);*\
\
*\-- Secure address table (PII / precise location)*\
*create table studio.address_secret (*\
*studio_id text primary key references studio.listing(studio_id) on
delete cascade,*\
*address_line1 text not null,*\
*address_line2 text,*\
*postal_code text,*\
*state_region text,*\
*country text not null,*\
*access_notes text, \-- gate code, freight elevator details; shown after
booking*\
*created_at timestamptz default now(),*\
*updated_at timestamptz default now()*\
*);*\
\
*\-- Amenities (facet)*\
*create table studio.amenity (*\
*amenity_id text primary key, \-- sam\_\...*\
*name text not null unique,*\
*group_name text not null \--
lighting\|backdrops\|props\|parking\|power\|sound\|other*\
*);*\
\
*create table studio.listing_amenity (*\
*studio_id text not null references studio.listing(studio_id) on delete
cascade,*\
*amenity_id text not null references studio.amenity(amenity_id) on
delete restrict,*\
*primary key (studio_id, amenity_id)*\
*);*\
\
*\-- House rules*\
*create table studio.rule (*\
*rule_id text primary key, \-- srl\_\...*\
*studio_id text not null references studio.listing(studio_id) on delete
cascade,*\
*kind studio.rule_kind not null,*\
*text_md text not null*\
*);*\
\
*\-- Add-ons*\
*create table studio.addon (*\
*addon_id text primary key, \-- sad\_\...*\
*studio_id text not null references studio.listing(studio_id) on delete
cascade,*\
*name text not null,*\
*description_md text,*\
*charge_kind studio.addon_charge_kind not null,*\
*amount_cents int not null,*\
*taxable boolean not null default true*\
*);*\
\
*\-- Availability templates & overrides*\
*create table studio.availability_template (*\
*template_id text primary key, \-- sat\_\...*\
*studio_id text not null references studio.listing(studio_id) on delete
cascade,*\
*dow int not null check (dow between 0 and 6), \-- 0=Sun*\
*start_min int not null, \-- minutes from midnight*\
*end_min int not null*\
*);*\
\
*create table studio.blackout (*\
*blackout_id text primary key, \-- sbo\_\...*\
*studio_id text not null references studio.listing(studio_id) on delete
cascade,*\
*starts_at timestamptz not null,*\
*ends_at timestamptz not null,*\
*reason text*\
*);*\
\
*\-- Verification documents (Studio Lite)*\
*create table studio.verification_doc (*\
*doc_id text primary key, \-- svd\_\...*\
*studio_id text not null references studio.listing(studio_id) on delete
cascade,*\
*kind text not null, \--
utility_bill\|lease\|business_license\|tax\|photo_outside*\
*s3_key text not null,*\
*status text not null default \'submitted\', \--
submitted\|approved\|rejected*\
*reviewer_id text, \-- admin*\
*reviewed_at timestamptz,*\
*note text,*\
*created_at timestamptz default n