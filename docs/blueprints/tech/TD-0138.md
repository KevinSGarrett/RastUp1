<!-- id: TD-0138 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 496800-500800 -->

ers browse and book time‑based slots with
min‑hours/buffers, handle deposits/house rules, coordinate in Messaging,
and leave verified reviews. Address privacy and door‑code sharing are
respected; the widget can link into a people‑booking flow (Linked
Booking Group).

NonTechBlueprint

## **1.24.1 Objectives & Scope**

- **Public listing pages** showing: **Quick Facts** (size, ceiling
  height, daylight orientation, power), **Amenities** chips, **Rules &
  Policies**, **Availability** (hourly slots with min hours and
  buffers), **Pricing** (per‑hour, cleaning fee, examples), **Host**
  stats, **Location** (approximate map only, exact address released
  post‑booking), and **Reviews**.

NonTechBlueprint

- **Booking Widget** that enforces min hours/buffers, collects crew
  size, attaches Smart Docs (Property/Space Release + House Rules) to
  checkout, supports **deposit holds**, and differentiates **Instant
  Book** vs **Request to book**.

NonTechBlueprint

- **Host Create/Edit Wizard & Dashboard**: content, amenities, rules,
  pricing/schedule, IB toggle, deposit settings, verification, calendar
  ops, ICS export, and post‑booking adjustments (overtime/crew
  overage/violations).

NonTechBlueprint

- **Reviews & Reputation (space‑scoped)** with owner reply, filters, and
  reputation breakdowns; signals flow to Search (§1.21).

NonTechBlueprint

- **Cross‑module links**: "**Pair with Talent**" chips prefilter People
  search for the same date/city (deep‑link).

NonTechBlueprint

## **1.24.2 Architecture (cost‑savvy, elastic)**

- **Frontend (web + RN):** Next.js + Amplify Gen 2 (SSR for listing
  pages for SEO), React Native screens for mobile booking & host ops.
- **API layer:** AppSync GraphQL.
- **Canonical data store:** **Aurora PostgreSQL** for listings, rules,
  pricing tiers, schedules, and reviews (we need rich filtering/sorting
  and transactional edits).
- **Search:** **Typesense** index (title, neighborhood, amenity facets,
  price ranges, availability summaries, rating).
- **Media:** S3 + CloudFront; image transforms via Lambda (thumbs), with
  guidelines for minimum gallery set.

NonTechBlueprint

- **Availability & booking:** use the same booking/order pipeline
  defined in §1.12/§1.13 and payments in §1.22; widget emits a
  **space‑line item** with min‑hours and fee components.
- **Docs:** Smart Docs service (Property/Space Release, House Rules)
  injected at checkout and stored with the order.

NonTechBlueprint

- **Deposit holds:** Stripe authorization only, as labeled in the
  widget; captured only if a post‑booking violation is logged.

NonTechBlueprint

- **Location:** AWS Location Service for geocoding + approximate map
  render; precise address gated to post‑booking.

NonTechBlueprint

- **Calendars:** ICS export for host calendars; inbound full two‑way
  sync is Phase 2 (optional).

NonTechBlueprint

## **1.24.3 Data Model (Aurora PostgreSQL + S3)**

**Tables (schema** ***spaces*****)**

- *space* (pk *space_id*, owned by *host_user_id*): *title*,
  *neighborhood*, *lat_approx*, *lon_approx*, *capacity*, *size_sqft*,
  *ceiling_height_ft*, *daylight_orientation*, *power_notes*, *status*,
  *published_at*. **Quick Facts** fields mirror the non‑tech spec.

NonTechBlueprint

- *space_media* (*space_id*, *media_id*, *type*, *s3_key*, *ordinal*)
  --- **min 6** with recommended shots list (exterior, cyc,
  makeup/dressing, load‑in path, restrooms).

NonTechBlueprint

- *space_amenity* (*space_id*, *amenity_code*, *detail_json*) ---
  amenity chips + details (e.g., cyc dimensions).

NonTechBlueprint

- *space_rule* (*space_id*, *rule_code*, *value_bool*, *value_text*) ---
  noise, shoes, pets, food, **surveillance disclosure (required)**, crew
  limits, hazard toggles (strobe/haze/open flame/ladder).

NonTechBlueprint

- *space_pricing* (*space_id*, *currency*, *price_per_hour_cents*,
  *min_hours*, *cleaning_fee_cents*, *buffer_before_min*,
  *buffer_after_min*) --- widget computes example totals; buffers
  en