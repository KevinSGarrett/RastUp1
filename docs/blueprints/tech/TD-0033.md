<!-- id: TD-0033 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 118800-122800 -->

 overrides require dual approval.
636. Admin consoles cover review, overrides, exports, and adverse-action
     steps with immutable audits.
637. Privacy posture holds (no raw PII stored; access logs); retention
     policies configured.
638. Telemetry/SLO dashboards for funnels and turnaround; all targets
     met under synthetic load.
639. Costs remain within budget; batch refreshes and cohort recerts
     smoothed.

# **§1.7 --- Promotions & Advertising**

*(eligibility · placements · targeting · blending & fairness · budgets &
pacing · click validation · billing & credits · admin tools · telemetry
· error taxonomy · tests · cost controls)*

**Purpose.** Provide a complete, auditable ad system that allows
eligible sellers to promote their **Service Profiles** (people) and,
later, **Studios** (places) within search/browse---**without** breaking
filters or user trust. Promotions must be transparent ("Promoted"),
capped in density, city‑gated, safe‑mode compliant, verifiable against
fraud, and cost‑controlled.

We will not move to §1.8 until §1.7 satisfies your 99.9% bar.

## **1.7.A Canon & invariants**

640. **No filter bypass.** Promoted results must **match the user's
     filters** (role, city, price bands, availability, Safe‑Mode) and
     respect city gates.
641. **Transparency by design.** Promoted units are marked
     ("Promoted"/"Featured") and visually distinct.
642. **Density caps.** Fixed, configurable caps (e.g., ≤2 promoted in
     top‑20; ≤1 above the fold).
643. **Eligibility gates.** Sellers must be **ID Verified**, have
     minimum **completeness score**, and be policy‑clean. Studios must
     be verified to advertise.
644. **Pay only for valid clicks.** Deduplicate & filter suspicious
     clicks; issue automatic make‑good credits.
645. **Budget safety.** Daily & total budgets; pacing to avoid early day
     burn; automatic pause when funds low or policy violated.
646. **Auditable.** Every impression/click/charge/credit is traceable,
     immutable, and reconcilable to Stripe.

## **1.7.B Surfaces & formats (MVP)**

- **Role search results** (people): boostable cards (same card template
  with a "Promoted" chip).
- **Studio search results** (places): enabled later behind a flag---same
  transparency rules.
- **No feed/native content** placements at MVP; keep to search and
  browse only.

**Formats (MVP):**

- **Featured**: occupies specific reserved slots (e.g., positions 2
  and 8) when eligible; rotates fairly among eligible campaigns.
- **Boosted**: appears interleaved at set intervals after position *P*
  (e.g., after every 5 organic results).

Both formats **never override filters** and **never** show if the
candidate doesn't qualify for that query.

## **1.7.C Eligibility & safety gates**

- **Required:** ID Verified, profile completeness ≥ threshold,
  policy‑clean (recent dispute/late delivery thresholds not exceeded),
  city allowlisted, Safe‑Mode‑compatible thumbnails.
- **Disallowed:** Under review by Trust & Safety, unsafe NSFW band for
  public surfaces, negative balance or unpaid ad bills, flagged fraud.
- **Studios:** must be verified studio with house rules published;
  deposit policy configured.

Violations pause campaigns automatically; Admin may override (two‑person
approval).

## **1.7.D Data model (Aurora + DynamoDB + S3)**

### **D.1 Core SQL tables**

*\-- Advertiser (seller) settings*\
*create table promo_advertiser (*\
*advertiser_id text primary key, \-- padv\_\...*\
*user_id text not null, \-- usr\_\...*\
*default_payment_id text, \-- Stripe customer/payment method (for
postpaid or top-ups)*\
*status text not null check (status in
(\'active\',\'paused\',\'suspended\')),*\
*created_at timestamptz not null default now(),*\
*updated_at timestamptz not null default now()*\
*);*\
\
*\-- Campaigns (one per role/SP or studio)*\
*create table promo_campaign (*\
*campaign_id text primary key, \-- pcmp\_\...*\
*advertiser_id text not null references
promo_advertiser(advertiser_id),*\
*tar