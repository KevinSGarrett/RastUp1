<!-- id: TD-0121 | source: ProjectPlans\TechnicalDevelopmentPlan.odt | range: 435600-439600 -->

 (public pages)**\
**Recommended path:** *observability/budgets/i18n-budget.json*

*{
\"resourceSizes\":\[{\"resourceType\":\"script\",\"budget\":150},{\"resourceType\":\"total\",\"budget\":850}\]
}*\

## **1.19.14 Governance: language coverage & content policy**

- Launch locales: *en-US*; "Phase 2": *es-ES*; "Phase 3": *fr-FR*,
  *de-DE*, *ar*.
- **Gate publishing** of a locale until: 100% key coverage,
  pseudolocalization pass, a11y pass, SEO checks (hreflang).
- Maintain a **glossary** per role/feature to keep translations
  consistent.

## **1.19.15 Work packages (Cursor 4‑agent lanes)**

- **Agent A --- Web/App:** i18n provider, locale switcher, RTL styles,
  A11y components (Modal, Combobox, SkipLink), head meta helper.
- **Agent B --- API/SSR:** user prefs fields/resolvers, server
  formatting helpers, Node full‑icu build, JSON‑LD localization.
- **Agent C --- Comms/SEO:** localized MJML templates, subject/From
  localization, hreflang tags, sitemap alternates.
- **Agent D --- QA/Tooling:** extractor/pseudolocalizer, axe/pa11y CI,
  screenshot diff, catalogs versioning/CDN invalidation.

## **1.19.16 Acceptance criteria --- mark §1.19 FINAL only when ALL true**

2036. Locale selection persists; server adds *lang* & *dir* correctly;
      **no auto‑redirect loops**; hreflang alternates present on SEO
      pages.
2037. ICU MessageFormat is used across web/app/emails;
      prices/dates/numbers localized; dual‑timezone display where
      relevant.
2038. RTL renders correctly: layout mirrored, icons swapped, reading
      order valid; no clipped/truncated text.
2039. A11y: WCAG 2.2 AA checks pass (axe/pa11y + manual SR runs);
      keyboard navigation works across all interactive components.
2040. Public pages (SEO) pre‑render localized
      titles/descriptions/JSON‑LD with **SFW images** only; Safe‑Mode
      rules respected.
2041. Catalogs load per‑locale (no shipping all); bundle budgets met;
      Node SSR has full‑icu.
2042. Translation workflow operational: extraction → PR review →
      pseudolocalized QA → deploy; glossary maintained.
2043. Emails localized, with quiet hours by timezone; no 18+ previews in
      emails.
2044. Costs controlled: catalogs on S3/CDN; no paid localization SaaS at
      launch.

# **§1.20 --- Mobile (PWA + Optional Native Shells), Push, and Device Capabilities**

*(app architecture · PWA config & offline · optional RN/Expo shells ·
deep links & routing · auth/session on device · push notifications
(APNs/FCM/Pinpoint) · file uploads from camera · Safe‑Mode & age‑gated
UX · performance budgets · a11y on mobile · CI/CD & releases · telemetry
· tests · cost posture)*

**Purpose.** Specify the complete mobile experience: a first‑class
**Progressive Web App (PWA)** that covers the entire user journey
(discovery → messages → booking → delivery), with an optional **React
Native (Expo) shell** for app store presence when/if desired. This
section defines how we implement offline, push, deep‑links, device
uploads, Safe‑Mode gating, performance, a11y, telemetry, CI/CD, and
costs. All artifacts are **inline text** for your Word doc with
"Recommended filename/path" tags so your builders can later lift them
into the repo.

## **1.20.A Canon & invariants**

2045. **PWA‑first**: one codebase (Next.js) with service worker, install
      prompt, offline for core routes, and background sync for
      drafts/uploads.
2046. **Optional native shells** (React Native + Expo) wrap the web for
      store distribution and system‑level push; both shells and PWA use
      the same AppSync APIs.
2047. **Safe‑Mode on mobile**: defaults ON for guests/new installs; SFW
      previews only; 18+ features gated behind age verification and
      explicit user choice, never emailed or pushed with previews.
2048. **Cost‑conscious:** APNs/FCM via Amazon **Pinpoint/SNS**, no extra
      third‑party SDK bloat; media uploads are direct‑to‑S3 presigned,
      resized on device.
2049. **Accessibility**: WCAG mobile patterns, la